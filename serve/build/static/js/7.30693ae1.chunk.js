(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{478:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(27),r=a(28),l=a(31),c=a(29),o=a(30),i=a(0),d=a(466),u=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[{color:"#108ee9",content:"\u5f85\u5ba1\u6838"},{color:"#87d068",content:"\u5ba1\u6838\u901a\u8fc7"},{color:"#f50",content:"\u5ba1\u6838\u9a73\u56de"},{color:"#2db7f5",content:"\u5df2\u4e0b\u67b6"}];return i.createElement("div",null,i.createElement(d.a,{color:e[this.props.type].color},e[this.props.type].content))}}]),t}(i.Component)},503:function(e,t,a){var n=a(504);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(55)(n,r);n.locals&&(e.exports=n.locals)},504:function(e,t,a){(e.exports=a(50)(!1)).push([e.i,".ProductAuditMsgModal .ProductAuditMsgModalContent {\n  display: flex;\n  flex-wrap: wrap;\n}\n.ProductAuditMsgModal .ProductAuditMsgModalContent p {\n  width: 50%;\n}\n.ProductAuditMsgModal .ProductAuditMsgModalContent .imgWrap {\n  display: flex;\n  overflow-x: auto;\n  margin: 21px 0;\n}\n.ProductAuditMsgModal .ProductAuditMsgModalContent .imgWrap div {\n  width: 20%;\n  margin: 0 4px;\n  flex: none;\n}\n.ProductAuditMsgModal .ProductAuditMsgModalContent .imgWrap div img {\n  width: 100%;\n}\n.ProductAuditMsgModal .ProductAuditMsgModalContent .ant-table-wrapper {\n  width: 100%;\n  margin-bottom: 0.5rem;\n}\n",""])},544:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(28),l=a(31),c=a(29),o=a(164),i=a(30),d=a(0),u=a(474),s=a(476),m=a(95),p=a(466),h=a(477),E=a(471),g=a(21),f=a(473),y=a(465),k=a(467),I=a(121),v=a(37),b=(a(503),a(39)),M=a.n(b),A=f.a.TabPane,w=y.a.TextArea,D=["","\u5f85\u5ba1\u6838","\u5ba1\u6838\u901a\u8fc7","\u5ba1\u6838\u9a73\u56de"],x=function(e){return d.createElement("img",{src:e,alt:"",style:{width:260}})},C=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={auditValue:a.props.audit,auditcontent:"",productAuthId:""},a.onChange=function(e){a.setState({auditValue:e.target.value})},a.submit=function(){Object(g.a)({method:"post",url:"/audit/product",data:{audit:a.state.auditValue,remark:a.state.auditcontent,productAuthId:a.props.productAuthId}}).then(function(e){e?(s.a.success("\u5ba1\u6838\u6210\u529f"),setTimeout(function(){window.location.reload()},500)):s.a.error("\u5ba1\u6838\u5931\u8d25")})},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({auditValue:e.audit})}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.images,n=t.productKind,r=t.productname,l=t.title,c=t.price,o=t.introduction,i=this.props.brandData,u=i.name,s=i.logoImg,p=this.props.merchantData,h=p.merchantName,g=p.merchantAddress,y=p.merchantBeginTime,b=p.merchantEndTime,C=p.merchantCity,P=p.merchantTel,T=p.merchantIcon,S=this.props.stockData,O=S.stockAttribute,j=S.stockPrice,N=S.stockNum,K=S.stockSalesVolume,Y=a.map(function(e,t){return d.createElement("div",{key:t},d.createElement(k.a,{content:x(e.addr),placement:"top",trigger:"hover",autoAdjustOverflow:!1},d.createElement("img",{src:e.addr,alt:""})))}),V=this.props.records.map(function(e){return{auditname:e.cadminId.name,status:D[e.status],audittime:e.ct?M()(parseInt(e.ct,10)).format("YYYY-MM-DD H:mm:ss"):"----",remark:e.remark}}),B=2===this.state.auditValue?d.createElement(w,{style:{marginBottom:10},placeholder:"\u9a73\u56de\u7406\u7531",rows:3,value:this.state.auditcontent,onChange:function(t){e.setState({auditcontent:t.target.value})}}):"";return d.createElement("div",null,d.createElement(m.a,{width:800,visible:this.props.visible,className:"ProductAuditMsgModal",onCancel:this.props.cancelModal,onOk:this.submit,footer:[d.createElement("div",{key:"audit",style:{textAlign:"left",margin:"10px 0"}},d.createElement(I.a.Group,{value:this.state.auditValue,buttonStyle:"solid",onChange:this.onChange.bind(this)},d.createElement(I.a.Button,{value:0},"\u5f85\u5ba1\u6838"),d.createElement(I.a.Button,{value:1},"\u5ba1\u6838\u901a\u8fc7"),d.createElement(I.a.Button,{value:2},"\u5ba1\u6838\u9a73\u56de"))),B,d.createElement(v.a,{key:"back",onClick:this.props.cancelModal},"\u53d6\u6d88"),d.createElement(v.a,{key:"submit",type:"primary",onClick:this.submit},"\u786e\u5b9a")]},d.createElement(f.a,{defaultActiveKey:"1",size:"large"},d.createElement(A,{tab:"\u5546\u54c1\u8be6\u60c5",key:"1"},d.createElement("div",{className:"ProductAuditMsgModalContent"},d.createElement("p",null,d.createElement("span",null,"\u5546\u54c1\u540d\u79f0\uff1a"),d.createElement("span",null,r)),d.createElement("p",null,d.createElement("span",null,"\u5546\u54c1\u6807\u9898\uff1a"),d.createElement("span",null,l)),d.createElement("p",null,d.createElement("span",null,"\u5546\u54c1\u7c7b\u522b\uff1a"),d.createElement("span",null,n)),d.createElement("p",null,d.createElement("span",null,"\u5546\u54c1\u4ef7\u683c\uff1a"),d.createElement("span",null,c)),d.createElement("p",null,d.createElement("span",null,"\u5546\u54c1\u91cd\u91cf\uff1a"),d.createElement("span",null,"100")),d.createElement("p",null,d.createElement("span",null,"\u5546\u54c1\u63cf\u8ff0\uff1a"),d.createElement("span",null,o)),d.createElement("p",null,d.createElement("span",null,"\u53d1\u5e03\u533a\u57df\uff1a"),d.createElement("span",null,"100")),d.createElement("p",null,d.createElement("span",null,"\u8054\u7cfb\u4eba\uff1a"),d.createElement("span",null,"100")),d.createElement("div",null,d.createElement("span",null,"\u5546\u54c1\u5934\u90e8\u7167\u7247"),d.createElement("div",{className:"imgWrap"},Y),d.createElement("span",null,"\u5546\u54c1\u7167\u7247"),d.createElement("div",{className:"imgWrap"},Y)))),d.createElement(A,{tab:"\u5546\u54c1\u54c1\u724c",key:"2"},d.createElement("div",{className:"ProductAuditMsgModalContent"},d.createElement("p",null,d.createElement("span",null,"\u54c1\u724c\u540d\uff1a"),d.createElement("span",null,u)),d.createElement("div",{style:{width:"100%"}},d.createElement("span",null,"\u54c1\u724clogo:"),d.createElement("div",{className:""},d.createElement(k.a,{content:x(s),placement:"right",trigger:"hover",autoAdjustOverflow:!1},d.createElement("img",{src:s,alt:"",style:{width:80,marginTop:20}})))))),d.createElement(A,{tab:"\u5e97\u94fa\u4fe1\u606f",key:"3"},d.createElement("div",{className:"ProductAuditMsgModalContent"},d.createElement("p",null,d.createElement("span",null,"\u5e97\u94fa\u540d\uff1a"),d.createElement("span",null,h)),d.createElement("p",null,d.createElement("span",null,"\u5e97\u94fa\u5730\u5740\uff1a"),d.createElement("span",null,C,"  ",g)),d.createElement("p",null,d.createElement("span",null,"\u5e97\u94fa\u7535\u8bdd\uff1a"),d.createElement("span",null,P)),d.createElement("p",null,d.createElement("span",null,"\u5e97\u94faicon\uff1a"),d.createElement("span",null,T)),d.createElement("p",null,d.createElement("span",null,"\u8425\u4e1a\u65f6\u95f4\uff1a"),d.createElement("span",null,y,"\u81f3",b)),d.createElement("div",{style:{width:"100%"}},d.createElement("span",null,"\u54c1\u724clogo:"),d.createElement("div",{className:""},d.createElement(k.a,{content:x(s),placement:"right",trigger:"hover",autoAdjustOverflow:!1},d.createElement("img",{src:s,alt:"",style:{width:80,marginTop:20}})))))),d.createElement(A,{tab:"\u5e93\u5b58\u4fe1\u606f",key:"4"},d.createElement("div",{className:"ProductAuditMsgModalContent"},d.createElement("p",null,d.createElement("span",null,"\u5e93\u5b58\u5c5e\u6027\uff1a"),d.createElement("span",null,O)),d.createElement("p",null,d.createElement("span",null,"\u5e93\u5b58\u91cf\uff1a"),d.createElement("span",null,N)),d.createElement("p",null,d.createElement("span",null,"\u5e93\u5b58\u9500\u91cf\uff1a"),d.createElement("span",null,K)),d.createElement("p",null,d.createElement("span",null,"\u4ef7\u683c\uff1a"),d.createElement("span",null,j)))),d.createElement(A,{tab:"\u5ba1\u6838\u8bb0\u5f55",key:"6"},d.createElement(E.a,{columns:[{title:"\u5ba1\u6838\u4eba\u5458",dataIndex:"auditname",key:"auditname"},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"status",key:"status"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"audittime",key:"audittime"},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark"}],dataSource:V,pagination:{pageSize:5},locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}})))))}}]),t}(d.Component),P=a(45),T=a(478);a.d(t,"default",function(){return O});var S=u.a.Paragraph,O=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),d=0;d<r;d++)i[d]=arguments[d];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={selectedRowKeys:[],loading:!1,filteredInfo:null,sortedInfo:{order:""},tableData:[],productAuthId:0,audit:0,productData:{order:"",productKind:"",productname:"",title:"",price:0,time:"",address:"",images:[],introduction:""},brandData:{name:"",logoImg:""},merchantData:{merchantName:"",merchantAddress:"",merchantTel:"",merchantIcon:"",merchantCity:"",merchantBeginTime:"",merchantEndTime:""},stockData:{stockAttribute:"",stockPrice:"",stockNum:0,stockSalesVolume:0},modalProductDetailShow:!1,records:[],total:0},a.getProductList=function(e,t,n){var r=Object(o.a)(a);Object(P.k)(e,t,n).then(function(e){if(e.data&&e.data.length>0){var t=e.data.map(function(e,t){return{key:e.id,name:e.userid.nickname?e.userid.nickname:"----",publisher:e.userid.username?e.userid.username:"----",productKind:e.productId.typeId.name?e.productId.typeId.name:"----",price:e.productId.price?e.productId.price:"----",title:e.title?e.title:"----",productname:e.productId.name?e.productId.name:"----",status:e.audit,creatTime:e.ct?e.ct:"----",modifiedTime:e.mt?M()(parseInt(e.mt,10)).format("YYYY-MM-DD H:mm:ss"):"----",productId:e.productId.id}});r.setState({tableData:t,resTableData:e.data,total:e.total})}else r.setState({tableData:[],resTableData:e.data,total:0})})},a.onSelectChange=function(e){console.log("selectedRowKeys changed: ",e),a.setState({selectedRowKeys:e})},a.handleChange=function(e,t,n){a.props.history.push("/home/productAudit/".concat(e.current)),a.getProductList(e.current,e.pageSize,t.status?t.status:["0","1","2"]),console.log("Various parameters",e,t,n),a.setState({filteredInfo:t,sortedInfo:n})},a.modalProductDetail=function(e,t,n,r,l,c,o,i){Object(g.a)({method:"get",url:"/detail/product?id=".concat(t)}).then(function(t){console.log(t),t?a.setState({modalProductDetailShow:!0,productAuthId:e,audit:o,auditcontent:i,productData:{order:"string",productKind:n,productname:r,price:c,title:l,time:"string",address:"string",images:t.imgMsgs?t.imgMsgs:[],introduction:t.content?t.content:"----"},brandData:{name:t.brandId.name,logoImg:t.brandId.logoImg},merchantData:{merchantName:t.merchantId.name,merchantAddress:t.merchantId.address,merchantTel:t.merchantId.tel,merchantIcon:t.merchantId.icon,merchantCity:t.merchantId.city,merchantBeginTime:t.merchantId.beginTime,merchantEndTime:t.merchantId.endTime},stockData:{stockAttribute:t.stockId.attribute,stockPrice:t.stockId.price,stockNum:t.stockId.num,stockSalesVolume:t.stockId.salesVolume},records:t.records}):s.a.error("\u6570\u636e\u51fa\u9519\u4e86")})},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getProductList(1,10,["0","1","2"])}},{key:"render",value:function(){var e=this,t=this.state.selectedRowKeys,a=this.state,n=a.filteredInfo,r=a.sortedInfo;n=n||{};var l=[{title:"\u7528\u6237\u540d",dataIndex:"name",key:"name"},{title:"\u53d1\u5e03\u4eba",dataIndex:"publisher",key:"publisher"},{title:"\u5546\u54c1\u7c7b\u522b",dataIndex:"productKind",key:"productKind"},{title:"\u4ef7\u683c",dataIndex:"price",key:"price"},{title:"\u5546\u54c1\u6807\u9898",dataIndex:"title",key:"title",render:function(e,t){return d.createElement("div",{onClick:function(){m.a.success({title:"\u5546\u54c1\u6807\u9898",content:t.title,okText:"\u786e\u5b9a"})},style:{cursor:"pointer"}},d.createElement(S,{ellipsis:!0,style:{width:100}},t.title))}},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"productname",key:"productname"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",filters:[{text:"\u5f85\u5ba1\u6838",value:"0"},{text:"\u5ba1\u6838\u901a\u8fc7",value:"1"},{text:"\u5ba1\u6838\u9a73\u56de",value:"2"}],render:function(e,t){return d.createElement(T.a,{type:t.status})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"creatTime",key:"creatTime",render:function(e,t){return d.createElement("span",null,M()(parseInt(t.creatTime,10)).format("YYYY-MM-DD H:mm:ss"))},sorter:function(e,t){return parseInt(e.creatTime,10)-parseInt(t.creatTime,10)},sortOrder:(r=r||{}).order},{title:"\u6700\u540e\u4fee\u6539\u65f6\u95f4",dataIndex:"modifiedTime",key:"modifiedTime"},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",render:function(t,a){return d.createElement(p.a,{style:{textAlign:"center",cursor:"pointer"},color:"#2db7f5",onClick:function(){return e.modalProductDetail(a.key,a.productId,a.productKind,a.productname,a.title,a.price,a.status,a.auditcontent)}},"\u5ba1\u6838")}}],c={selectedRowKeys:t,onChange:this.onSelectChange},o=this.state,i=o.tableData,u=o.modalProductDetailShow,s=o.productData,g=o.brandData,f=o.merchantData,y=o.stockData,k=o.productAuthId,I=o.audit,v=o.records,b=o.total,A=this.props.match.params.page;return d.createElement("div",null,d.createElement(h.a,{style:{textAlign:"left",marginBottom:25}},d.createElement(h.a.Item,null,"\u5ba1\u6838"),d.createElement(h.a.Item,null,d.createElement("a",{href:""},"\u5546\u54c1\u5ba1\u6838"))),d.createElement(E.a,{rowSelection:c,columns:l,dataSource:i,pagination:{pageSize:10,total:b,defaultCurrent:parseInt(A,10)},onChange:this.handleChange,locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}}),d.createElement(C,{productAuthId:k,audit:I,records:v,data:s,brandData:g,merchantData:f,stockData:y,cancelModal:function(){return e.setState({modalProductDetailShow:!1})},visible:u}))}}]),t}(d.Component)}}]);
//# sourceMappingURL=7.30693ae1.chunk.js.map