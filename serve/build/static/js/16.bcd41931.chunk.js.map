{"version":3,"sources":["webpack:///./src/pages/auth/role/index.less?e216","pages/auth/role/index.less","pages/auth/role/roleChildrenTable.tsx","pages/auth/role/index.tsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","RoleChildrenTable","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","checkedList","indeterminate","checkAll","tableData","props","onChange","record","newTableData","checkedOptions","map","item","details","allOptions","filter","Item","id","key","editData","name","setState","onCheckAllChange","e","target","checked","inherits","createClass","value","_this2","columns","title","dataIndex","render","status","find","check","react","es_checkbox","bind","index","label","authName","defalutOptions","Group","table","dataSource","locale","filterConfirm","filterReset","emptyText","React","Option","Select","TextArea","Input","RolePage","files","updateId","selectedRowKeys","selectedPetKeys","selectedPetTypeKeys","loading","filteredInfo","sortedInfo","visible","apiVisible","api","apiChildren","apiChildrenName","apiName","editVisible","addVisible","imageUrl","defaultRoleName","defalutSizeValue","editSizeVisible","resTableData","resRoleTableData","showImage","imageSrc","roleChildrenTableData","roleGroupId","submitMenu","menus","menuName","menuUrl","menuAddMenuChildren","menusList","onSelectChange","handleChange","pagination","filters","sorter","console","log","handleDelete","addRole","That","assertThisInitialized","showDrawer","axios","method","url","then","res","object","hasOwnProperty","allMenuChildren","menuChildrenIds","addApi","setChildrenApis","setChildrenApiNames","addMenu","editRole","menuChildren","menuIds","deleteRole","data","ids","message","success","setTimeout","window","location","reload","error","editSubmitRole","targetMenu","editSubmitMenus","submitRole","editArr","onMenuSelectChange","option","children","onCheckboxSelectChange","sumitAddMenu","_this$state","submitAddRole","submitAddApi","apiList","split","apiChildrenNameList","roleName","_this$state2","text","href","onClick","style","marginRight","rowSelection","hasSelected","selectOptions","path","checkboxOptions","marginBottom","textAlign","es_button","type","disabled","marginLeft","pageSize","drawer","width","placement","closable","onClose","input","placeholder","roleChildrenTable_RoleChildrenTable","editSelectData","position","left","bottom","borderTop","padding","background","margin","rows","defaultValue","es_select","marginTop","display"],"mappings":"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","file":"static/js/16.bcd41931.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-3-1!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-3-1!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-3-1!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\", \"\"]);\n\n","import * as React from 'react';\r\nimport { Table, Checkbox } from 'antd';\r\n\r\ninterface IRoleChildrenTableProps {\r\n    tableName?: string,\r\n    tableData: any[],\r\n    roleGroupId: number,\r\n    editData: (id: number | string, name:string,data: any) => void,\r\n    editSelectData: (menus: any[]) => void\r\n}\r\n\r\ninterface Detail {\r\n    options: any[],\r\n    allOptions: any[]\r\n}\r\n\r\nexport class RoleChildrenTable extends React.Component<IRoleChildrenTableProps> {\r\n    public state = {\r\n        checkedList: [],\r\n        indeterminate: false,\r\n        checkAll: false,\r\n        tableData:this.props.tableData\r\n    };\r\n\r\n    public componentWillReceiveProps(props:any){\r\n        this.setState({\r\n            tableData:props.tableData\r\n        })\r\n    }\r\n\r\n    public onChange = (record:any,checkedList: any) => {\r\n\r\n        const newTableData = this.state.tableData\r\n\r\n        const checkedOptions = checkedList.map((item:number)=>{\r\n            const checkedOption:any[] = record.details.allOptions.filter((Item:any)=>{\r\n                return Item.id === item\r\n            })\r\n            return checkedOption[0]\r\n        })\r\n\r\n        newTableData.map((item)=>{\r\n            if(item.key === record.key){\r\n                item.details.options = checkedOptions\r\n            }\r\n        })\r\n\r\n        this.props.editData(record.key,record.name,checkedList)\r\n\r\n        this.setState({\r\n            tableData:newTableData\r\n        });\r\n    };\r\n    public onCheckAllChange = (record:any , e:any) => {\r\n\r\n        const newTableData = this.state.tableData\r\n\r\n        newTableData.map((item)=>{\r\n            if(item.key === record.key){\r\n                item.details.options = e.target.checked?item.details.allOptions:[]\r\n                if(e.target.checked){\r\n                    this.props.editData(record.key,record.name,item.details.allOptions.map((Item:any)=>Item.id))\r\n                }else{\r\n                    this.props.editData(record.key,record.name,[])\r\n                }\r\n            }\r\n        })\r\n\r\n        this.setState({\r\n            tableData:newTableData\r\n        });\r\n    };\r\n    public render() {\r\n        const columns = [{\r\n            title: '模块名',\r\n            dataIndex: 'name',\r\n            key: 'name',\r\n        }, {\r\n            title: '全选',\r\n            dataIndex: 'all',\r\n            key: 'all',\r\n            render: (details: Detail, record: any) => {\r\n                if(this.state.tableData.length>0){\r\n                    const target = this.state.tableData.find((item)=>item.key === record.key)\r\n                    let status\r\n                    let check = false\r\n                    if(target.details.allOptions.length === target.details.options.length){\r\n                        status = undefined\r\n                        check = true\r\n                    }else if(target.details.options.length === 0){\r\n                        status = false\r\n                    }else{\r\n                        status = true\r\n                    }\r\n                    return (\r\n                        <Checkbox\r\n                            indeterminate={status}\r\n                            onChange={this.onCheckAllChange.bind(this,record)}\r\n                            checked={check}\r\n                        />\r\n                    )\r\n                }\r\n            }\r\n        }, {\r\n            title: '权限明细',\r\n            dataIndex: 'details',\r\n            key: 'details',\r\n            render: (details: Detail, record: any) => {\r\n                const options = details.allOptions.map((item, index) => {\r\n                    return {\r\n                        label: item.authName,\r\n                        value: item.id,\r\n                    }\r\n                })\r\n\r\n                const defalutOptions = details.options.map((item, index) => {\r\n                    return item.id\r\n                })\r\n\r\n                return (\r\n                    <span>\r\n                        <Checkbox.Group options={options} \r\n                        value={defalutOptions}\r\n                        // defaultValue={defalutOptions}\r\n                        onChange={this.onChange.bind(this,record)} />\r\n                    </span>\r\n                )\r\n            },\r\n        }];\r\n        return (\r\n            <div>\r\n                <Table\r\n                    columns={columns} dataSource={this.state.tableData}\r\n                    locale={{ filterConfirm: \"确定\", filterReset: \"重置\", emptyText: \"暂无数据\" }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport {\r\n  Table, Button, Drawer, Input, message, Select, Checkbox\r\n} from 'antd';\r\n// import moment from 'moment';\r\nimport './index.less';\r\nimport axios from '../../../util/Axios';\r\nimport { RoleChildrenTable } from './roleChildrenTable';\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nexport default class RolePage extends React.Component<any, any> {\r\n\r\n  public state = {\r\n    files: [],\r\n    updateId: 1, // edit id 要更新的id\r\n    selectedRowKeys: [], // Check here to configure the default column\r\n    selectedPetKeys: [],\r\n    selectedPetTypeKeys: [],\r\n    loading: false,\r\n    filteredInfo: null,\r\n    sortedInfo: \"\",\r\n    visible: false,\r\n    apiVisible: false,\r\n    api:\"\",\r\n    apiChildren:\"\",\r\n    apiChildrenName:\"\",\r\n    apiName:\"\",\r\n    editVisible: false,\r\n    addVisible: false,\r\n    value: 2,  // 默认选择的一级分类\r\n    imageUrl: \"\",\r\n    defaultRoleName: \"\", // 编辑商品名字\r\n    defalutSizeValue: 6, // 编辑商品体型\r\n    editSizeVisible: false,  // 编辑商品体型选项是否显示\r\n    tableData: [],\r\n    resTableData: [],\r\n    resRoleTableData: [],\r\n    showImage: false,\r\n    imageSrc: \"\",\r\n    roleChildrenTableData: [],\r\n    roleGroupId: 1,\r\n    submitMenu: [],\r\n    menus: [],\r\n    menuName: \"\",\r\n    menuUrl: \"\",\r\n    menuAddMenuChildren: [],\r\n    menusList: [],\r\n  };\r\n\r\n  public componentDidMount() {\r\n    const That = this\r\n    axios({\r\n      method: \"get\",\r\n      url: \"/role/list\"\r\n    }).then((res: any) => {\r\n      if (res.length > 0) {\r\n        const tableData = res.map((item: any, index: number) => {\r\n          return {\r\n            key: item.id,  // key 应带对应data id \r\n            name: item.roleName,\r\n          }\r\n        })\r\n        That.setState({\r\n          \"tableData\": tableData,\r\n          resTableData: res,\r\n          resRoleTableData: res\r\n\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  public onSelectChange = (selectedRowKeys: any) => {\r\n    this.setState({ selectedRowKeys });\r\n  }\r\n\r\n  public handleChange = (pagination: any, filters: any, sorter: any) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n\r\n    this.setState({\r\n      filteredInfo: filters,\r\n      sortedInfo: sorter,\r\n    });\r\n  }\r\n\r\n  public handleDelete = (key: any) => {\r\n    console.log(key)\r\n  }\r\n\r\n  public addRole = () => {\r\n    const That = this\r\n    this.showDrawer()\r\n    axios({\r\n      method: \"get\",\r\n      url: \"/role/allmenus\"\r\n    }).then((res: any) => {\r\n      const roleChildrenTableData = []\r\n      if (res) {\r\n        const object = res\r\n        for (const key in object) {\r\n          if (object.hasOwnProperty(key)) {\r\n            const item = object[key];\r\n            roleChildrenTableData.push({\r\n              \"key\": key,\r\n              name: item.menuName,\r\n              details: {\r\n                options: [],\r\n                allOptions: item.allMenuChildren\r\n              },\r\n              menuChildrenIds: \"\"\r\n            })\r\n          }\r\n        }\r\n        That.setState({\r\n          \"roleChildrenTableData\": roleChildrenTableData\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  public addApi = () => {\r\n    // const That = this\r\n    this.setState({\r\n      apiVisible: true\r\n    })\r\n  }\r\n\r\n  public setChildrenApis = (value:string)=>{\r\n    this.setState({\r\n      apiChildren:value\r\n    })\r\n  }\r\n\r\n  public setChildrenApiNames = (value:string)=>{\r\n    this.setState({\r\n      apiChildrenName:value\r\n    })\r\n  }\r\n\r\n  public addMenu = (record: any) => {\r\n    const That = this\r\n    axios({\r\n      method: \"get\",\r\n      url: `/menu/list?roleGroupId=${record.key}`\r\n    }).then((res: any) => {\r\n      if (res) {\r\n        That.setState({\r\n          addVisible: true,\r\n          menus: res,\r\n          roleGroupId: record.key,\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  public editRole = (record: any) => {\r\n    const That = this\r\n    axios({\r\n      method: \"get\",\r\n      url: `/role/menus?id=${record.key}`,\r\n    }).then((res: any) => {\r\n      if (res) {\r\n        const roleChildrenTableData = res.map((item: any, index: number) => {\r\n          return {\r\n            key: item.id,\r\n            name: item.menuName,\r\n            details: {\r\n              options: item.menuChildren,\r\n              allOptions: item.allMenuChildren\r\n            },\r\n            menuChildrenIds: item.menuIds\r\n          }\r\n        })\r\n        That.setState({\r\n          editVisible: true,\r\n          defaultRoleName: record.name,\r\n          roleGroupId: record.key,\r\n          \"roleChildrenTableData\": roleChildrenTableData\r\n        })\r\n      }\r\n    })\r\n\r\n\r\n  }\r\n\r\n  public showDrawer = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  public deleteRole = () => {\r\n\r\n    const selectedRowKeys = this.state.selectedRowKeys\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: \"/role/delete\",\r\n      data: {\r\n        ids: selectedRowKeys\r\n      }\r\n    }).then((res: any) => {\r\n      if (res) {\r\n        message.success(\"删除成功\")\r\n        setTimeout(() => {\r\n          window.location.reload()\r\n        }, 500);\r\n      } else {\r\n        message.error(\"删除失败\")\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n\r\n  public editSubmitRole = (id: number | string, name: string, data: number[]) => {\r\n    console.log(id, name, data)\r\n    const { submitMenu }: { submitMenu: any[] } = this.state\r\n\r\n    const targetMenu = submitMenu.map((item) => {\r\n      if (item.id === id) {\r\n        return {\r\n          id,\r\n          name,\r\n          ids: data\r\n        }\r\n      } else {\r\n        return item\r\n      }\r\n    })\r\n\r\n    const target = submitMenu.find((item) => {\r\n      return item.id === id\r\n    })\r\n\r\n    if (target) {\r\n      this.setState({\r\n        submitMenu: targetMenu\r\n      })\r\n    } else {\r\n      targetMenu.push({\r\n        \"id\": id,\r\n        name,\r\n        ids: data,\r\n      })\r\n      this.setState({\r\n        submitMenu: targetMenu\r\n      })\r\n    }\r\n  }\r\n\r\n  public editSubmitMenus = (menus: any[]) => {\r\n\r\n    const data: any[] = this.state.roleChildrenTableData\r\n\r\n    menus.map((item: string) => {\r\n      data.map((Item: any, index: number) => {\r\n        if (item === Item.key) {\r\n          data[index].details.options = data[index].details.allOptions\r\n        } else {\r\n          return\r\n        }\r\n      })\r\n    })\r\n\r\n    this.setState({\r\n      roleChildrenTableData: data\r\n    })\r\n\r\n  }\r\n\r\n  public submitRole = () => {\r\n    axios({\r\n      method: \"post\",\r\n      url: \"/role/edit\",\r\n      data: {\r\n        editArr: this.state.submitMenu\r\n      }\r\n    }).then((res: any) => {\r\n      if (res) {\r\n        message.success(\"修改成功\")\r\n        setTimeout(() => {\r\n          window.location.reload()\r\n        }, 500);\r\n      } else {\r\n        message.error(\"修改失败\")\r\n      }\r\n    })\r\n  }\r\n\r\n  public onMenuSelectChange = (value: string, option: any) => {\r\n    axios({\r\n      method: \"get\",\r\n      url: `/menu/path?name=${value}`,\r\n    }).then((res: any) => {\r\n      if (res) {\r\n        this.setState({\r\n          menusList: res,\r\n          menuUrl: value,\r\n          menuName: option.props.children\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  public onCheckboxSelectChange = (value: any[]) => {\r\n    this.setState({\r\n      menuAddMenuChildren: value\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 添加菜单权限\r\n   */\r\n  public sumitAddMenu = () => {\r\n    const { menuName, roleGroupId, menuUrl, menuAddMenuChildren } = this.state\r\n    axios({\r\n      method: \"post\",\r\n      url: \"/menu/add\",\r\n      data: {\r\n        \"roleGroupId\": roleGroupId,\r\n        \"menuName\": menuName,\r\n        \"menuUrl\": menuUrl,\r\n        \"menuAddMenuChildren\": menuAddMenuChildren\r\n      }\r\n    }).then((res: any) => {\r\n      if (res) {\r\n        message.success(\"添加成功\")\r\n        setTimeout(() => {\r\n          window.location.reload()\r\n        }, 1000);\r\n      } else {\r\n        message.error(\"添加失败\")\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 添加角api\r\n   */\r\n  public submitAddRole = () => {\r\n    console.log(this.state)\r\n    axios({\r\n      method: \"post\",\r\n      url: `/role/add`,\r\n      data: {\r\n        name: this.state.defaultRoleName,\r\n        editArr: this.state.submitMenu\r\n      }\r\n    }).then((res) => {\r\n      if (res) {\r\n        message.success(\"添加成功\")\r\n        setTimeout(() => {\r\n          window.location.reload()\r\n        }, 1000);\r\n      } else {\r\n        message.error(\"添加失败\")\r\n      }\r\n    })\r\n  }\r\n\r\n  public submitAddApi = () => {\r\n    const apiList = this.state.apiChildren.split(',')\r\n    const apiChildrenNameList = this.state.apiChildrenName.split(',')\r\n    axios({\r\n      method:\"post\",\r\n      url:\"/menu/addApiAndChildren\",\r\n      data:{\r\n        api:this.state.api,\r\n        apiName:this.state.apiName,\r\n        apiChildren:apiList,\r\n        apiChildrenName:apiChildrenNameList,\r\n      }\r\n    }).then((res) => {\r\n      if (res) {\r\n        message.success(\"添加成功\")\r\n        setTimeout(() => {\r\n          window.location.reload()\r\n        }, 1000);\r\n      } else {\r\n        message.error(\"添加失败\")\r\n      }\r\n    })\r\n  }\r\n  public render() {\r\n\r\n    const { selectedRowKeys, tableData, roleChildrenTableData, roleGroupId, menus, menusList } = this.state;\r\n\r\n    let { filteredInfo }: any = this.state;\r\n\r\n    filteredInfo = filteredInfo || {};\r\n\r\n    const columns = [{\r\n      title: '角色名',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    }, {\r\n      title: '操作',\r\n      dataIndex: 'operation',\r\n      key: 'operation',\r\n      render: (text: any, record: any) => {\r\n        return (\r\n          <span>\r\n            <a href=\"javascript:;\" onClick={this.editRole.bind(this, record)} style={{ marginRight: 20 }}>查看子菜单权限</a>\r\n            <a href=\"javascript:;\" onClick={this.addMenu.bind(this, record)}>添加菜单权限</a>\r\n          </span>\r\n        )\r\n      }\r\n    }];\r\n\r\n    const rowSelection = {\r\n      selectedRowKeys,\r\n      onChange: this.onSelectChange\r\n    };\r\n\r\n    const hasSelected = selectedRowKeys.length > 0;\r\n\r\n    const selectOptions = menus.map((item: any, index: number) => {\r\n      return (\r\n        <Option value={item.path} key={index}>{item.name}</Option>\r\n      )\r\n    })\r\n\r\n    const checkboxOptions = menusList.map((item: any, index) => {\r\n      return {\r\n        label: item.authName,\r\n        value: item.id,\r\n      }\r\n    })\r\n\r\n    return (\r\n      <div>\r\n        <div style={{ marginBottom: 16, textAlign: \"left\" }}>\r\n          <Button type=\"primary\" onClick={this.addRole.bind(this)} style={{ marginRight: 20 }}>\r\n            添加\r\n          </Button>\r\n          <Button type=\"primary\" onClick={this.addApi.bind(this)} style={{ marginRight: 20 }}>\r\n            添加api\r\n          </Button>\r\n          <Button type=\"danger\" disabled={!hasSelected} onClick={() => {\r\n            this.deleteRole()\r\n          }}>\r\n            删除\r\n          </Button>\r\n          <span style={{ marginLeft: 8 }}>\r\n            {hasSelected ? `选择了${selectedRowKeys.length}项` : ''}\r\n          </span>\r\n        </div>\r\n        <div>\r\n          <Table rowSelection={rowSelection} columns={columns} dataSource={tableData}\r\n            pagination={{ pageSize: 10 }}\r\n            onChange={this.handleChange}\r\n            locale={{ filterConfirm: \"确定\", filterReset: \"重置\", emptyText: \"暂无数据\" }}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Drawer\r\n            width={1000}\r\n            title=\"添加角色\"\r\n            placement=\"right\"\r\n            closable={true}\r\n            onClose={() => { this.setState({ visible: false, files: [] }) }}\r\n            visible={this.state.visible}\r\n          >\r\n            <div style={{ marginBottom: 25 }}>\r\n              <span>角色：</span>\r\n              <Input style={{ width: \"70%\" }} placeholder=\"请输入角色名\" onChange={(e: any) => { this.setState({ defaultRoleName: e.target.value }) }} />\r\n            </div>\r\n            <RoleChildrenTable tableData={roleChildrenTableData} roleGroupId={roleGroupId}\r\n              editData={this.editSubmitRole.bind(this)}\r\n              editSelectData={this.editSubmitMenus.bind(this)} />\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                left: 0,\r\n                bottom: 0,\r\n                width: '100%',\r\n                borderTop: '1px solid #e9e9e9',\r\n                padding: '10px 16px',\r\n                background: '#fff',\r\n                textAlign: 'right',\r\n              }}\r\n            >\r\n              <Button onClick={() => { this.setState({ visible: false }) }} style={{ marginRight: 8 }}>\r\n                取消\r\n              </Button>\r\n              <Button onClick={() => {\r\n                this.setState({ visible: true })\r\n                this.submitAddRole()\r\n              }}\r\n                type=\"primary\">\r\n                确定\r\n                </Button>\r\n            </div>\r\n          </Drawer>\r\n        </div>\r\n        <div>\r\n          <Drawer\r\n            width={500}\r\n            title=\"添加api\"\r\n            placement=\"right\"\r\n            closable={true}\r\n            onClose={() => { this.setState({ apiVisible: false, files: [] }) }}\r\n            visible={this.state.apiVisible}\r\n          >\r\n            <div style={{ marginBottom: 25 }}>\r\n              <span>菜单api：</span>\r\n              <Input style={{ width: \"70%\" }} placeholder=\"请输入api\" onChange={(e: any) => { this.setState({ api: e.target.value }) }} />\r\n            </div>\r\n            <div style={{ marginBottom: 25 }}>\r\n              <span>api名字：</span>\r\n              <Input style={{ width: \"70%\" }} placeholder=\"请输入api对应的菜单名 比如：用户管理\" onChange={(e: any) => { this.setState({ apiName: e.target.value }) }} />\r\n            </div>\r\n            <TextArea\r\n              style={{\r\n                margin: \"10px 0\"\r\n              }}\r\n              placeholder=\"list,add,edit (必填)\"\r\n              rows={3} onChange={(e: any) => {\r\n                this.setChildrenApis(e.target.value)\r\n              }} />\r\n                          <TextArea\r\n              style={{\r\n                margin: \"10px 0\"\r\n              }}\r\n              placeholder=\"圈子列表,添加圈子,编辑圈子 (必填)\"\r\n              rows={3} onChange={(e: any) => {\r\n                this.setChildrenApiNames(e.target.value)\r\n              }} />\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                left: 0,\r\n                bottom: 0,\r\n                width: '100%',\r\n                borderTop: '1px solid #e9e9e9',\r\n                padding: '10px 16px',\r\n                background: '#fff',\r\n                textAlign: 'right',\r\n              }}\r\n            >\r\n              <Button onClick={() => { this.setState({ apiVisible: false }) }} style={{ marginRight: 8 }}>\r\n                取消\r\n              </Button>\r\n              <Button onClick={() => {\r\n                this.setState({ apiVisible: true })\r\n                this.submitAddApi()\r\n              }}\r\n                type=\"primary\">\r\n                确定\r\n                </Button>\r\n            </div>\r\n          </Drawer>\r\n        </div>\r\n        <div>\r\n          <Drawer\r\n            width={1000}\r\n            title=\"编辑用户权限\"\r\n            placement=\"right\"\r\n            closable={true}\r\n            onClose={() => {\r\n              this.setState({ editVisible: false, files: [] })\r\n            }}\r\n            visible={this.state.editVisible}\r\n          >\r\n            <div style={{ marginBottom: 25 }}>\r\n              <span>角色名：</span>\r\n              <Input style={{ width: \"70%\" }} placeholder=\"请输入分类名\" onChange={(e: any) => { this.setState({ defaultRoleName: e.target.value }) }}\r\n                defaultValue={this.state.defaultRoleName}\r\n                value={this.state.defaultRoleName}\r\n              />\r\n            </div>\r\n            <RoleChildrenTable tableData={roleChildrenTableData} roleGroupId={roleGroupId} editData={this.editSubmitRole.bind(this)}\r\n              editSelectData={this.editSubmitMenus.bind(this)} />\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                left: 0,\r\n                bottom: 0,\r\n                width: '100%',\r\n                borderTop: '1px solid #e9e9e9',\r\n                padding: '10px 16px',\r\n                background: '#fff',\r\n                textAlign: 'right',\r\n              }}\r\n            >\r\n              <Button onClick={() => { this.setState({ editVisible: false }) }} style={{ marginRight: 8 }}>\r\n                取消\r\n              </Button>\r\n              <Button onClick={() => {\r\n                this.submitRole()\r\n              }}\r\n                type=\"primary\">\r\n                确认\r\n            </Button>\r\n            </div>\r\n          </Drawer>\r\n          <Drawer\r\n            width={500}\r\n            title=\"添加菜单权限\"\r\n            placement=\"right\"\r\n            closable={true}\r\n            onClose={() => {\r\n              this.setState({ addVisible: false, })\r\n            }}\r\n            visible={this.state.addVisible}\r\n          >\r\n            <div style={{ marginBottom: 25 }}>\r\n              <span>菜单名：</span>\r\n              <Select style={{ width: 320 }} onChange={this.onMenuSelectChange.bind(this)}>\r\n                {selectOptions}\r\n              </Select>\r\n            </div>\r\n            <div style={{ marginTop: 25 }}>\r\n              <span style={{ marginRight: 8 }}>子菜单: </span>\r\n              {\r\n                checkboxOptions.length > 0 ?\r\n                  <Checkbox.Group options={checkboxOptions} onChange={this.onCheckboxSelectChange.bind(this)} style={{\r\n                    display: \"block\",\r\n                    marginTop: 16\r\n                  }} />\r\n                  :\r\n                  <span>请先选择菜单</span>\r\n              }\r\n            </div>\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                left: 0,\r\n                bottom: 0,\r\n                width: '100%',\r\n                borderTop: '1px solid #e9e9e9',\r\n                padding: '10px 16px',\r\n                background: '#fff',\r\n                textAlign: 'right',\r\n              }}\r\n            >\r\n              <Button onClick={() => { this.setState({ addVisible: false }) }} style={{ marginRight: 8 }}>\r\n                取消\r\n              </Button>\r\n              <Button onClick={this.sumitAddMenu.bind(this)}\r\n                type=\"primary\">\r\n                确认\r\n            </Button>\r\n            </div>\r\n          </Drawer>\r\n        </div>\r\n      </div >\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}