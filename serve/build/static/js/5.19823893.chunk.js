(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{478:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(27),o=a(28),r=a(31),l=a(29),i=a(30),c=a(0),m=a(466),s=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[{color:"#108ee9",content:"\u5f85\u5ba1\u6838"},{color:"#87d068",content:"\u5ba1\u6838\u901a\u8fc7"},{color:"#f50",content:"\u5ba1\u6838\u9a73\u56de"},{color:"#2db7f5",content:"\u5df2\u4e0b\u67b6"}];return c.createElement("div",null,c.createElement(m.a,{color:e[this.props.type].color},e[this.props.type].content))}}]),t}(c.Component)},505:function(e,t,a){var n=a(506);"string"===typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(55)(n,o);n.locals&&(e.exports=n.locals)},506:function(e,t,a){(e.exports=a(50)(!1)).push([e.i,".CompanyAuditMsgModal .CompanyAuditMsgModalContent {\n  display: flex;\n  flex-wrap: wrap;\n}\n.CompanyAuditMsgModal .CompanyAuditMsgModalContent p {\n  width: 50%;\n}\n.CompanyAuditMsgModal .CompanyAuditMsgModalContent .imgWrap {\n  display: flex;\n  overflow-x: auto;\n  margin: 21px 0;\n}\n.CompanyAuditMsgModal .CompanyAuditMsgModalContent .imgWrap div {\n  width: 120px;\n  margin: 0 4px;\n  flex: none;\n}\n.CompanyAuditMsgModal .CompanyAuditMsgModalContent .imgWrap div img {\n  width: 100%;\n}\n.CompanyAuditMsgModal .CompanyAuditMsgModalContent .ant-table-wrapper {\n  width: 100%;\n  margin-bottom: 0.5rem;\n}\n",""])},547:function(e,t,a){"use strict";a.r(t);var n=a(27),o=a(28),r=a(31),l=a(29),i=a(164),c=a(30),m=a(0),s=a(474),d=a(476),u=a(95),p=a(466),y=a(477),h=a(471),g=a(21),f=a(473),C=a(465),E=a(121),v=a(37),k=a(467),b=(a(505),a(39)),M=a.n(b),w=f.a.TabPane,A=C.a.TextArea,I=["","\u5f85\u5ba1\u6838","\u5ba1\u6838\u901a\u8fc7","\u5ba1\u6838\u9a73\u56de"],x=function(e){return m.createElement("img",{src:e,alt:"",style:{width:260}})},D=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){a.setState({auditValue:e.target.value})},a.submit=function(){Object(g.a)({method:"post",url:"/audit/company",data:{audit:a.state.auditValue,CompanyAuthId:a.props.CompanyAuthId,remark:a.state.remark}}).then(function(e){e?(d.a.success("\u5ba1\u6838\u6210\u529f"),setTimeout(function(){window.location.reload()},500)):d.a.error("\u5ba1\u6838\u5931\u8d25")})},a.state={auditValue:e.audit,remark:"",CompanyAuthId:""},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setState({auditValue:e.audit})}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.companyName,n=t.companyRegistMoney,o=t.creditCode,r=t.companyPhoto,l=t.companyBisPhoto,i=t.companyLegalName,c=t.companyLegalContact,s=t.companyFrontCardPhoto,d=t.companyBackCardPhoto,p=t.companyHandCardPhoto,y=t.companyAddress,g=t.companyDiscription,C=this.props.records.map(function(e,t){return{key:t,auditname:e.cadminId.name,status:I[e.status],audittime:e.ct?M()(parseInt(e.ct,10)).format("YYYY-MM-DD H:mm:ss"):"----",remark:e.remark}}),b=2===this.state.auditValue?m.createElement(A,{key:"reason",style:{margin:"10px 0 20px 0"},placeholder:"\u9a73\u56de\u7406\u7531",rows:3,value:this.state.remark,onChange:function(t){e.setState({remark:t.target.value})}}):"";return console.log(b),m.createElement("div",null,m.createElement(u.a,{width:820,visible:this.props.visible,className:"CompanyAuditMsgModal",onCancel:this.props.cancelModal,onOk:this.submit,footer:[m.createElement("div",{key:"audit",style:{textAlign:"left",margin:"10px 0"}},m.createElement(E.a.Group,{value:this.state.auditValue,buttonStyle:"solid",onChange:this.onChange.bind(this)},m.createElement(E.a.Button,{value:0},"\u5f85\u5ba1\u6838"),m.createElement(E.a.Button,{value:1},"\u5ba1\u6838\u901a\u8fc7"),m.createElement(E.a.Button,{value:2},"\u5ba1\u6838\u9a73\u56de"))),b,m.createElement(v.a,{key:"back",onClick:this.props.cancelModal},"\u53d6\u6d88"),m.createElement(v.a,{key:"submit",type:"primary",onClick:this.submit},"\u786e\u5b9a")]},m.createElement(f.a,{defaultActiveKey:"1",size:"large"},m.createElement(w,{tab:"\u4f01\u4e1a\u8be6\u60c5",key:"1"},m.createElement("div",{className:"CompanyAuditMsgModalContent"},m.createElement("p",null,m.createElement("span",null,"\u4f01\u4e1a\u540d\u79f0\uff1a"),m.createElement("span",null,a)),m.createElement("p",null,m.createElement("span",null,"\u6ce8\u518c\u8d44\u91d1\uff1a"),m.createElement("span",null,n)),m.createElement("p",null,m.createElement("span",null,"\u4f01\u4e1a\u793e\u4f1a\u4fe1\u7528\u4ee3\u7801\uff1a"),m.createElement("span",null,o)),m.createElement("p",null,m.createElement("span",null,"\u6cd5\u4eba\u59d3\u540d\uff1a"),m.createElement("span",null,i)),m.createElement("p",null,m.createElement("span",null,"\u8054\u7cfb\u65b9\u5f0f\uff1a"),m.createElement("span",null,c)),m.createElement("p",null,m.createElement("span",null,"\u4f01\u4e1a\u5730\u5740\uff1a"),m.createElement("span",null,y)),m.createElement("p",{style:{width:"100%",display:"flex"}},m.createElement("span",{style:{width:"auto"}},"\u4f01\u4e1a\u63cf\u8ff0\uff1a"),m.createElement("span",{style:{width:"80%"}},g,g)),m.createElement("div",null,m.createElement("span",null,"\u4f01\u4e1a\u95e8\u5934\u7167"),m.createElement("div",{className:"imgWrap"},m.createElement("div",null,m.createElement(k.a,{content:x(r),placement:"top",trigger:"hover",autoAdjustOverflow:!1,title:"\u95e8\u5934\u7167"},m.createElement("img",{src:r,alt:""}))),m.createElement("div",null,m.createElement(k.a,{content:x(l),placement:"top",trigger:"hover",autoAdjustOverflow:!1,title:"\u8425\u4e1a\u6267\u7167"},m.createElement("img",{src:l,alt:""}))))),m.createElement("div",null,m.createElement("span",null,"\u8eab\u4efd\u8bc1\u7167"),m.createElement("div",{className:"imgWrap"},m.createElement("div",null,m.createElement(k.a,{content:x(s),placement:"top",trigger:"hover",autoAdjustOverflow:!1,title:"\u6b63\u9762\u7167"},m.createElement("img",{src:s,alt:""}))),m.createElement("div",null,m.createElement(k.a,{content:x(d),placement:"top",trigger:"hover",autoAdjustOverflow:!1,title:"\u53cd\u9762\u7167"},m.createElement("img",{src:d,alt:""}))),m.createElement("div",null,m.createElement(k.a,{content:x(p),placement:"top",trigger:"hover",autoAdjustOverflow:!1,title:"\u624b\u6301\u7167"},m.createElement("img",{src:p,alt:""}))))))),m.createElement(w,{tab:"\u5ba1\u6838\u8bb0\u5f55",key:"3"},m.createElement(h.a,{columns:[{title:"\u5ba1\u6838\u4eba\u5458",dataIndex:"auditname",key:"auditname"},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"status",key:"status"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"audittime",key:"audittime"},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark"}],dataSource:C,pagination:{pageSize:5},locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}})))))}}]),t}(m.Component),O=a(478),j=a(45);a.d(t,"default",function(){return P});var S=s.a.Paragraph,P=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,c=new Array(o),m=0;m<o;m++)c[m]=arguments[m];return(a=Object(r.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={selectedRowKeys:[],loading:!1,filteredInfo:null,sortedInfo:{order:""},tableData:[],CompanyAuthId:0,audit:0,CompanyData:{id:"",companyName:"",companyRegistMoney:"",creditCode:"",companyPhoto:"",companyBisPhoto:"",companyBisTime:"",companyLegalName:"",companyLegalContact:"",companyFrontCardPhoto:"",companyBackCardPhoto:"",companyHandCardPhoto:"",companyAddress:"",companyStatus:0,companyDiscription:""},modalCompanyDetailShow:!1,records:[],total:0},a.getCompanyList=function(e,t,n){var o=Object(i.a)(a);Object(j.f)(e,t,n).then(function(e){if(e&&e.data.length>0){var t=e.data.map(function(e,t){return{key:e.id,name:e.userId.nickname?e.userId.nickname:"----",companyname:e.name?e.name:"----",discription:e.discription?e.discription:"----",authtype:e.authType?e.authType:"----",authtime:e.authtime?M()(parseInt(e.authtime,10)).format("YYYY-MM-DD H:mm:ss"):"----",status:e.status,creatTime:e.ct?e.ct:"----",modifiedTime:e.mt?e.mt:"----",operation:"----"}});o.setState({tableData:t,resTableData:e.data,total:e&&e.total})}else o.setState({tableData:[],resTableData:e.data,total:e&&e.total})})},a.onSelectChange=function(e){console.log("selectedRowKeys changed: ",e),a.setState({selectedRowKeys:e})},a.handleChange=function(e,t,n){console.log("Various parameters",e,t,n),a.props.history.push("/home/companyAudit/".concat(e.current)),a.getCompanyList(e.current,e.pageSize,t.status&&t.status.length>0?t.status:["0","1","2"]),a.setState({filteredInfo:t,sortedInfo:n})},a.modalCompanyDetail=function(e,t,n){Object(g.a)({method:"get",url:"/detail/company?id=".concat(t)}).then(function(e){e?a.setState({modalCompanyDetailShow:!0,CompanyAuthId:e.id,audit:e.status,CompanyData:{id:e.id,companyName:e.name,companyRegistMoney:e.registMoney,creditCode:e.socialCode,companyPhoto:e.headPhoto,companyBisPhoto:e.bisPhoto,companyBisTime:e.bisDate,companyLegalName:e.legalName,companyLegalContact:e.legalTel,companyFrontCardPhoto:e.frontPhoto,companyBackCardPhoto:e.backPhoto,companyHandCardPhoto:e.handPhoto,companyAddress:e.nowAddress,companyStatus:e.status,companyDiscription:e.discription},records:e.records}):d.a.error("\u6570\u636e\u51fa\u9519\u4e86")})},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.page;this.getCompanyList(e,10,["0","1","2"])}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedRowKeys,n=t.CompanyAuthId,o=t.audit,r=t.records,l=this.state,i=l.filteredInfo,c=l.sortedInfo;i=i||{};var s=[{title:"\u7528\u6237\u540d",dataIndex:"name",key:"name"},{title:"\u4f01\u4e1a",dataIndex:"companyname",key:"companyname",render:function(e,t){return m.createElement("div",{onClick:function(){u.a.success({title:t.companyname,content:t.discription,okText:"\u786e\u5b9a"})},style:{cursor:"pointer"}},m.createElement(S,{ellipsis:!0,style:{width:150}},t.companyname))}},{title:"\u4f01\u4e1a\u7c7b\u578b",dataIndex:"authtype",key:"authtype"},{title:"\u8ba4\u8bc1\u65f6\u95f4",dataIndex:"authtime",key:"authtime"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",filters:[{text:"\u5f85\u5ba1\u6838",value:"0"},{text:"\u5ba1\u6838\u901a\u8fc7",value:"1"},{text:"\u5ba1\u6838\u9a73\u56de",value:"2"}],render:function(e,t){return m.createElement(O.a,{type:t.status})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"creatTime",key:"creatTime",render:function(e,t){return m.createElement("span",null,M()(parseInt(t.creatTime,10)).format("YYYY-MM-DD H:mm:ss"))},sorter:function(e,t){return parseInt(e.creatTime,10)-parseInt(t.creatTime,10)},sortOrder:(c=c||{}).order},{title:"\u6700\u540e\u4fee\u6539\u65f6\u95f4",dataIndex:"modifiedTime",key:"modifiedTime"},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",render:function(t,a){return m.createElement(p.a,{style:{textAlign:"center",cursor:"pointer"},color:"#2db7f5",onClick:function(){return e.modalCompanyDetail(a.name,a.key,a.status)}},"\u5ba1\u6838")}}],d={selectedRowKeys:a,onChange:this.onSelectChange},g=this.state,f=g.tableData,C=g.modalCompanyDetailShow,E=g.CompanyData,v=g.total,k=this.props.match.params.page;return m.createElement("div",null,m.createElement(y.a,{style:{textAlign:"left",marginBottom:25}},m.createElement(y.a.Item,null,"\u5ba1\u6838"),m.createElement(y.a.Item,null,m.createElement("a",{href:""},"\u7528\u6237\u5ba1\u6838"))),m.createElement(h.a,{rowSelection:d,columns:s,dataSource:f,pagination:{pageSize:10,total:v,defaultCurrent:parseInt(k,10)},onChange:this.handleChange,locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}}),m.createElement(D,{CompanyAuthId:n,records:r,audit:o,data:E,cancelModal:function(){return e.setState({modalCompanyDetailShow:!1})},visible:C}))}}]),t}(m.Component)}}]);
//# sourceMappingURL=5.19823893.chunk.js.map