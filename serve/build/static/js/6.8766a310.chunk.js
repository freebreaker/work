(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{478:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(45),r=a(46),l=a(49),i=a(47),o=a(48),s=a(0),c=a(466),d=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[{color:"#108ee9",content:"\u5f85\u5ba1\u6838"},{color:"#87d068",content:"\u5ba1\u6838\u901a\u8fc7"},{color:"#f50",content:"\u5ba1\u6838\u9a73\u56de"},{color:"#2db7f5",content:"\u5df2\u4e0b\u67b6"}];return s.createElement("div",null,s.createElement(c.a,{color:e[this.props.type].color},e[this.props.type].content))}}]),t}(s.Component)},497:function(e,t,a){var n=a(498);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(55)(n,r);n.locals&&(e.exports=n.locals)},498:function(e,t,a){(e.exports=a(50)(!1)).push([e.i,".PetAuditMsgModal .PetAuditMsgModalContent {\n  display: flex;\n  flex-wrap: wrap;\n}\n.PetAuditMsgModal .PetAuditMsgModalContent p {\n  width: 50%;\n}\n.PetAuditMsgModal .PetAuditMsgModalContent .imgWrap {\n  display: flex;\n  overflow-x: auto;\n  margin: 21px 0;\n}\n.PetAuditMsgModal .PetAuditMsgModalContent .imgWrap div {\n  width: 20%;\n  margin: 0 4px;\n  flex: none;\n}\n.PetAuditMsgModal .PetAuditMsgModalContent .imgWrap div img {\n  width: 100%;\n}\n.PetAuditMsgModal .PetAuditMsgModalContent .ant-table-wrapper {\n  width: 100%;\n  margin-bottom: 0.5rem;\n}\n",""])},548:function(e,t,a){"use strict";a.r(t);var n=a(45),r=a(46),l=a(49),i=a(47),o=a(164),s=a(48),c=a(0),d=a(474),u=a(476),m=a(125),p=a(477),h=a(471),g=a(21),f=a(473),y=a(465),E=a(467),v=a(120),M=a(31),b=(a(497),a(37)),k=a.n(b),I=f.a.TabPane,x=y.a.TextArea,A=d.a.Title,w=["","\u5f85\u5ba1\u6838","\u5ba1\u6838\u901a\u8fc7","\u5ba1\u6838\u9a73\u56de"],C=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).onChange=function(e){a.setState({auditValue:e.target.value})},a.submit=function(){console.log(a.state.auditValue,a.props.petAuthId),Object(g.a)({method:"post",url:"/audit/pet",data:{audit:a.state.auditValue,petAuthId:a.props.petAuthId,remark:a.state.auditcontent}}).then(function(e){e?(u.a.success("\u5ba1\u6838\u6210\u529f"),setTimeout(function(){window.location.reload()},500)):u.a.error("\u5ba1\u6838\u5931\u8d25")})},a.state={auditValue:a.props.audit,auditcontent:"",petAuthId:""},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.audit)}},{key:"componentWillReceiveProps",value:function(e){this.setState({auditValue:e.audit})}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.title,n=t.name,r=t.petKind,l=t.sex,i=t.birthday,o=t.price,s=t.publishArea,d=t.contact,u=t.phone,p=t.streetArea,g=t.imgMsgs,y=t.vacMsgs,b=t.repMsgs,C=g.map(function(e,t){return c.createElement("div",{key:t},c.createElement(E.a,{content:(a=e.addr,c.createElement("img",{src:a,alt:"",style:{width:260}})),placement:"top",trigger:"hover",autoAdjustOverflow:!1},c.createElement("img",{src:e.addr,alt:""})));var a}),P=[{title:"\u5e8f\u53f7",dataIndex:"order",key:"order"},{title:"\u65f6\u95f4",dataIndex:"time",key:"time"},{title:"\u5730\u5740",dataIndex:"address",key:"address"},{title:"\u56fe\u7247",dataIndex:"images",key:"images"},{title:"\u8bf4\u660e",dataIndex:"introduction",key:"introduction"}],S=this.props.productRecords.map(function(e,t){return{key:t,auditname:e.cadminId.name,status:w[e.status],audittime:e.ct?k()(parseInt(e.ct,10)).format("YYYY-MM-DD H:mm:ss"):"----",remark:e.remark}}),D=y.map(function(e,t){return{key:t,order:2,time:"time",address:"\u5730\u5740",images:"dd",introduction:"\u8bf4\u660e"}}),O=b.map(function(e,t){return{key:t,order:3,time:"time",address:"\u5730\u5740",images:"dd",introduction:"\u8bf4\u660e"}}),T=2===this.state.auditValue?c.createElement(x,{style:{marginBottom:10},placeholder:"\u9a73\u56de\u7406\u7531",rows:3,value:this.state.auditcontent,onChange:function(t){e.setState({auditcontent:t.target.value})}}):"";return c.createElement(m.a,{width:720,visible:this.props.visible,className:"PetAuditMsgModal",onCancel:this.props.cancelModal,onOk:this.submit,footer:[c.createElement("div",{key:"audit",style:{textAlign:"left",margin:"10px 0"}},c.createElement(v.a.Group,{value:this.state.auditValue,buttonStyle:"solid",onChange:this.onChange.bind(this)},c.createElement(v.a.Button,{value:0},"\u5f85\u5ba1\u6838"),c.createElement(v.a.Button,{value:1},"\u5ba1\u6838\u901a\u8fc7"),c.createElement(v.a.Button,{value:2},"\u5ba1\u6838\u9a73\u56de"))),T,c.createElement(M.a,{key:"back",onClick:this.props.cancelModal},"\u53d6\u6d88"),c.createElement(M.a,{key:"submit",type:"primary",onClick:this.submit},"\u786e\u5b9a")]},c.createElement(f.a,{defaultActiveKey:"1",size:"large"},c.createElement(I,{tab:"\u5ba0\u7269\u8be6\u60c5",key:"1"},c.createElement("div",{className:"PetAuditMsgModalContent"},c.createElement("p",null,c.createElement("span",null,"\u5ba0\u7269\u540d\u79f0\uff1a"),c.createElement("span",null,n)),c.createElement("p",null,c.createElement("span",null,"\u5ba0\u7269\u6807\u9898\uff1a"),c.createElement("span",null,a)),c.createElement("p",null,c.createElement("span",null,"\u5ba0\u7269\u7c7b\u522b\uff1a"),c.createElement("span",null,r)),c.createElement("p",null,c.createElement("span",null,"\u5ba0\u7269\u6027\u522b\uff1a"),c.createElement("span",null,l?"\u516c":"\u6bcd")),c.createElement("p",null,c.createElement("span",null,"\u5ba0\u7269\u751f\u65e5\uff1a"),c.createElement("span",null,i)),c.createElement("p",null,c.createElement("span",null,"\u5ba0\u7269\u4ef7\u683c\uff1a"),c.createElement("span",null,o)),c.createElement("p",null,c.createElement("span",null,"\u5ba0\u7269\u53d1\u5e03\u533a\u57df\uff1a"),c.createElement("span",null,s)),c.createElement("p",null,c.createElement("span",null,"\u8054\u7cfb\u4eba\uff1a"),c.createElement("span",null,"".concat(d,"  ").concat(u))),c.createElement("p",null,c.createElement("span",null,"\u8857\u9053\u5730\u5740\uff1a"),c.createElement("span",null,p)),c.createElement("div",null,c.createElement("span",null,"\u5ba0\u7269\u7167\u7247"),c.createElement("div",{className:"imgWrap"},C)))),c.createElement(I,{tab:"\u75ab\u82d7\u4fe1\u606f",key:"2"},c.createElement(A,{level:4},"\u75ab\u82d7\u4fe1\u606f"),c.createElement("div",{className:"PetAuditMsgModalContent"},c.createElement(h.a,{columns:P,dataSource:D,pagination:{pageSize:5},locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}}))),c.createElement(I,{tab:"\u9a71\u866b\u4fe1\u606f",key:"3"},c.createElement("div",{className:"PetAuditMsgModalContent"},c.createElement(h.a,{columns:P,dataSource:O,pagination:{pageSize:5},locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}}))),c.createElement(I,{tab:"\u5ba1\u6838\u8bb0\u5f55",key:"5"},c.createElement(h.a,{columns:[{title:"\u5ba1\u6838\u4eba\u5458",dataIndex:"auditname",key:"auditname"},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"status",key:"status"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"audittime",key:"audittime"},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark"}],dataSource:S,pagination:{pageSize:5},locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}}))))}}]),t}(c.Component),P=a(40),S=a(466),D=a(478);a.d(t,"default",function(){return T});var O=d.a.Paragraph,T=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={selectedRowKeys:[],loading:!1,filteredInfo:null,sortedInfo:{order:""},tableData:[],petAuthId:0,audit:0,productData:{id:"",name:"",title:"title",petKind:"",sex:0,color:"",birthday:"",price:"",imgUrlPapers:"",content:"",contact:"",phone:"",publishArea:"",streetArea:"",imgMsgs:[],vacMsgs:[],repMsgs:[]},productRecords:[],modalPetDetailShow:!1,total:0},a.getAuditList=function(e,t,n){var r=Object(o.a)(a);Object(P.i)(e,t,n).then(function(e){if(e.data&&e.data.length>0){var t=e.data.map(function(e,t){return{key:e.id,name:e.userId?e.userId.nickname:"----",publisher:e.userId?e.userId.username:"----",petKind:e.typeId?e.typeId.name:"----",price:e.price?e.price:"----",title:e.title?e.title:"----",content:e.content?e.content:"----",status:e.status,creatTime:e.ct?e.ct:"----",modifiedTime:e.mt?e.mt:"----",operation:e.id}});r.setState({tableData:t,resTableData:e.data,total:e.total})}else r.setState({tableData:[],resTableData:e.data,total:e&&e.total})})},a.onSelectChange=function(e){console.log("selectedRowKeys changed: ",e),a.setState({selectedRowKeys:e})},a.handleChange=function(e,t,n){a.props.history.push("/home/petAudit/".concat(e.current)),console.log(t.status),a.getAuditList(e.current,e.pageSize,t.status&&t.status.length>0?t.status:["0","1","2"]),a.setState({filteredInfo:t,sortedInfo:n})},a.modalPetDetail=function(e,t,n,r){Object(g.a)({method:"get",url:"/detail/pet?id=".concat(t)}).then(function(t){t?a.setState({modalPetDetailShow:!0,petAuthId:e,audit:r,productData:{id:t.id,name:t.name,title:t.title,petKind:n,sex:t.sex?t.sex:0,color:t.color?t.color:"\u672a\u77e5",birthday:t.brithday?t.brithday:"\u672a\u77e5",price:t.price?t.price:"\u9762\u8bae",imgUrlPapers:"",content:t.content?t.content:"\u5185\u5bb9\u8be6\u60c5",contact:t.userId?t.userId.username:"----",phone:t.userId?t.userId.phone:"----",publishArea:t.citycode?t.citycode:"\u6682\u65e0",streetArea:t.addressId?t.addressId:"\u6682\u65e0",imgMsgs:t.imgMsgs?t.imgMsgs:[],vacMsgs:t.vacMsgs?t.vacMsgs:[],repMsgs:t.repMsgs?t.repMsgs:[]},productRecords:t.records}):u.a.error("\u6570\u636e\u51fa\u9519\u4e86")})},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.page;this.getAuditList(e,10,["0","1","2"])}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedRowKeys,n=t.petAuthId,r=t.audit,l=t.productRecords,i=this.state,o=i.filteredInfo,s=i.sortedInfo;o=o||{};var d=[{title:"\u7528\u6237\u540d",dataIndex:"name",key:"name"},{title:"\u53d1\u5e03\u4eba",dataIndex:"publisher",key:"publisher"},{title:"\u5ba0\u7269\u79cd\u7c7b",dataIndex:"petKind",key:"petKind"},{title:"\u4ef7\u683c",dataIndex:"price",key:"price"},{title:"\u8ba4\u8bc1\u6807\u9898",dataIndex:"title",key:"title",render:function(e,t){return c.createElement("div",{onClick:function(){m.a.success({title:"\u8ba4\u8bc1\u6807\u9898",content:t.title,okText:"\u786e\u5b9a"})},style:{cursor:"pointer"}},c.createElement(O,{ellipsis:!0,style:{width:100}},t.title))}},{title:"\u8ba4\u8bc1\u5185\u5bb9",dataIndex:"content",key:"content",render:function(e,t){return c.createElement("div",{onClick:function(){m.a.success({title:"\u8ba4\u8bc1\u5185\u5bb9",content:t.content,okText:"\u786e\u5b9a"})},style:{cursor:"pointer"}},c.createElement(O,{ellipsis:!0,style:{width:100}},t.content))}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",filters:[{text:"\u5f85\u5ba1\u6838",value:"0"},{text:"\u5ba1\u6838\u901a\u8fc7",value:"1"},{text:"\u5ba1\u6838\u9a73\u56de",value:"2"}],render:function(e,t){return c.createElement(D.a,{type:t.status})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"creatTime",key:"creatTime",render:function(e,t){return c.createElement("span",null,k()(parseInt(t.creatTime,10)).format("YYYY-MM-DD H:mm:ss"))},sorter:function(e,t){return parseInt(e.creatTime,10)-parseInt(t.creatTime,10)},sortOrder:(s=s||{}).order},{title:"\u6700\u540e\u4fee\u6539\u65f6\u95f4",dataIndex:"modifiedTime",key:"modifiedTime",render:function(e,t){return c.createElement("span",null,k()(parseInt(t.modifiedTime,10)).format("YYYY-MM-DD H:mm:ss"))}},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",render:function(t,a){return c.createElement(S.a,{style:{textAlign:"center",cursor:"pointer"},color:"#2db7f5",onClick:function(){return e.modalPetDetail(a.key,a.operation,a.petKind,a.status)}},"\u5ba1\u6838")}}],u={selectedRowKeys:a,onChange:this.onSelectChange},g=this.state,f=g.tableData,y=g.modalPetDetailShow,E=g.productData,v=g.total,M=this.props.match.params.page;return c.createElement("div",null,c.createElement(p.a,{style:{textAlign:"left",marginBottom:25}},c.createElement(p.a.Item,null,"\u5ba1\u6838"),c.createElement(p.a.Item,null,c.createElement("a",{href:""},"\u5ba0\u7269\u5ba1\u6838"))),c.createElement(h.a,{rowSelection:u,columns:d,dataSource:f,pagination:{pageSize:10,total:v,defaultCurrent:parseInt(M,10)},onChange:this.handleChange,locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}}),c.createElement(C,{petAuthId:n,audit:r,productRecords:l,data:E,cancelModal:function(){return e.setState({modalPetDetailShow:!1})},visible:y}))}}]),t}(c.Component)}}]);
//# sourceMappingURL=6.8766a310.chunk.js.map