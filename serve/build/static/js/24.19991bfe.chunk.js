(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{337:function(e,t,n){"use strict";n.d(t,"l",function(){return l}),n.d(t,"n",function(){return c}),n.d(t,"q",function(){return u}),n.d(t,"s",function(){return s}),n.d(t,"i",function(){return d}),n.d(t,"t",function(){return p}),n.d(t,"r",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"v",function(){return h}),n.d(t,"c",function(){return y}),n.d(t,"m",function(){return g}),n.d(t,"g",function(){return v}),n.d(t,"u",function(){return b}),n.d(t,"e",function(){return E}),n.d(t,"b",function(){return O}),n.d(t,"k",function(){return I}),n.d(t,"j",function(){return k}),n.d(t,"o",function(){return M}),n.d(t,"a",function(){return j}),n.d(t,"d",function(){return x}),n.d(t,"f",function(){return w}),n.d(t,"p",function(){return C});var a=n(338),r=n.n(a),o=n(339),i=n(71),l=function(){var e=Object(o.a)(r.a.mark(function e(t,n,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({method:"post",url:"/audit/petList",data:{page:t,size:n,status:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),c=function(e,t,n){return Object(i.a)({method:"post",url:"/audit/productList",data:{page:e,size:t,status:n}})},u=function(e,t,n){return Object(i.a)({method:"post",url:"/audit/serviceList",data:{page:e,size:t,status:n}})},s=function(e,t,n){return Object(i.a)({method:"post",url:"/audit/userList",data:{page:e,size:t,status:n}})},d=function(e,t,n){return Object(i.a)({method:"post",url:"/audit/companyList",data:{page:e,size:t,status:n}})},p=function(e,t){return Object(i.a)({method:"post",url:"/user/list",data:{page:e,size:t}})},m=function(e){return Object(i.a)({method:"post",url:"/user/search",data:{keyword:e}})},f=function(){return Object(i.a)({method:"get",url:"/round/list"})},h=function(e,t){return Object(i.a)({method:"post",url:"/round/add",data:{area:e[e.length-1],round:t}})},y=function(e){return Object(i.a)({method:"post",url:"/round/delete",data:{id:e}})},g=function(e,t){return Object(i.a)({method:"get",url:"/picture/list?current=".concat(e,"&limit=").concat(t)})},v=function(e,t){return Object(i.a)({method:"post",url:"/advertisement/list",data:{page:e,size:t}})},b=function(e,t,n,a,r,o,l,c){return Object(i.a)({method:"post",url:"/advertisement/add",data:{type:e,relateType:t,relateId:n,url:a,title:r,content:o,image:l,cityCode:c}})},E=function(e,t,n,a,r,o,l,c,u){return Object(i.a)({method:"post",url:"/advertisement/edit",data:{id:e,type:t,relateType:n,relateId:a,url:r,title:o,content:l,image:c,cityCode:u}})},O=function(e){return Object(i.a)({method:"post",url:"/advertisement/delete",data:{ids:e}})},I=function(e,t,n){return Object(i.a)({method:"post",url:"/personalRound/list",data:{type:e,page:t,size:n}})},k=function(e,t,n,a){return Object(i.a)({method:"post",url:"/inform/list",data:{type:e,page:t,size:n,relatedType:a}})},M=function(e,t){return Object(i.a)({method:"post",url:"/recommend/list",data:{page:e,size:t}})},j=function(e,t,n,a,r,o,l,c,u,s,d){return Object(i.a)({method:"post",url:"/recommend/add",data:{type:e,relateType:t,relateId:n,name:a,startTime:r,endTime:o,cityCode:l,deviceType:3,deviceName:"pc",deviceId:"pc",userId:c}})},x=function(e){return Object(i.a)({method:"post",url:"/recommend/delete",data:{ids:e}})},w=function(e,t,n,a,r,o,l,c,u,s,d,p){return Object(i.a)({method:"post",url:"/recommend/edit",data:{id:e,type:t,relateType:n,relateId:a,name:r,startTime:o,endTime:l,cityCode:c,deviceType:3,deviceName:"pc",deviceId:"pc",userId:u}})},C=function(e,t){return Object(i.a)({method:"post",url:"/recommend/relateTypeList",data:{type:e,userId:t}})}},348:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(45),r=n(46),o=n(49),i=n(47),l=n(48),c=n(0),u=n(351),s=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[{color:"#108ee9",content:"\u5f85\u5ba1\u6838"},{color:"#87d068",content:"\u5ba1\u6838\u901a\u8fc7"},{color:"#f50",content:"\u5ba1\u6838\u9a73\u56de"},{color:"#2db7f5",content:"\u5df2\u4e0b\u67b6"}];return c.createElement("div",null,c.createElement(u.a,{color:e[this.props.type].color},e[this.props.type].content))}}]),t}(c.Component)},354:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(0),r=n(123),o=n(8),i=n(12);function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]])}return n},f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=s(this,d(t).apply(this,arguments))).saveTooltip=function(t){e.tooltip=t},e.renderPopover=function(t){var n=t.getPrefixCls,o=e.props,i=o.prefixCls,l=m(o,["prefixCls"]);delete l.title;var u=n("popover",i);return a.createElement(r.a,c({},l,{prefixCls:u,ref:e.saveTooltip,overlay:e.getOverlay(u)}))},e}var n,l,f;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a["Component"]),n=t,(l=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"getOverlay",value:function(e){var t=this.props,n=t.title,r=t.content;return Object(i.a)(!("overlay"in this.props),"Popover","`overlay` is removed, please use `content` instead, see: https://u.ant.design/popover-content"),a.createElement("div",null,n&&a.createElement("div",{className:"".concat(e,"-title")},n),a.createElement("div",{className:"".concat(e,"-inner-content")},r))}},{key:"render",value:function(){return a.createElement(o.a,null,this.renderPopover)}}])&&u(n.prototype,l),f&&u(n,f),t}();f.defaultProps={placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}}},492:function(e,t,n){var a=n(493);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(72)(a,r);a.locals&&(e.exports=a.locals)},493:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,".PetAuditMsgModal .PetAuditMsgModalContent {\n  display: flex;\n  flex-wrap: wrap;\n}\n.PetAuditMsgModal .PetAuditMsgModalContent p {\n  width: 50%;\n}\n.PetAuditMsgModal .PetAuditMsgModalContent .imgWrap {\n  display: flex;\n  overflow-x: auto;\n  margin: 21px 0;\n}\n.PetAuditMsgModal .PetAuditMsgModalContent .imgWrap div {\n  width: 20%;\n  margin: 0 4px;\n  flex: none;\n}\n.PetAuditMsgModal .PetAuditMsgModalContent .imgWrap div img {\n  width: 100%;\n}\n.PetAuditMsgModal .PetAuditMsgModalContent .ant-table-wrapper {\n  width: 100%;\n  margin-bottom: 0.5rem;\n}\n",""])},552:function(e,t,n){"use strict";n.r(t);var a=n(45),r=n(46),o=n(49),i=n(47),l=n(122),c=n(48),u=n(0),s=n(540),d=n(335),p=n(70),m=n(352),f=n(538),h=n(71),y=n(525),g=n(329),v=n(354),b=n(388),E=n(22),O=(n(492),n(336)),I=n.n(O),k=y.a.TabPane,M=g.a.TextArea,j=s.a.Title,x=["","\u5f85\u5ba1\u6838","\u5ba1\u6838\u901a\u8fc7","\u5ba1\u6838\u9a73\u56de"],w=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChange=function(e){n.setState({auditValue:e.target.value})},n.submit=function(){console.log(n.state.auditValue,n.props.petAuthId),Object(h.a)({method:"post",url:"/audit/pet",data:{audit:n.state.auditValue,petAuthId:n.props.petAuthId,remark:n.state.auditcontent}}).then(function(e){e?(d.a.success("\u5ba1\u6838\u6210\u529f"),setTimeout(function(){window.location.reload()},500)):d.a.error("\u5ba1\u6838\u5931\u8d25")})},n.state={auditValue:n.props.audit,auditcontent:"",petAuthId:""},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.audit)}},{key:"componentWillReceiveProps",value:function(e){this.setState({auditValue:e.audit})}},{key:"render",value:function(){var e=this,t=this.props.data,n=t.title,a=t.name,r=t.petKind,o=t.sex,i=t.birthday,l=t.price,c=t.publishArea,s=t.contact,d=t.phone,m=t.streetArea,h=t.imgMsgs,g=t.vacMsgs,O=t.repMsgs,w=h.map(function(e,t){return u.createElement("div",{key:t},u.createElement(v.a,{content:(n=e.addr,u.createElement("img",{src:n,alt:"",style:{width:260}})),placement:"top",trigger:"hover",autoAdjustOverflow:!1},u.createElement("img",{src:e.addr,alt:""})));var n}),C=[{title:"\u5e8f\u53f7",dataIndex:"order",key:"order"},{title:"\u65f6\u95f4",dataIndex:"time",key:"time"},{title:"\u5730\u5740",dataIndex:"address",key:"address"},{title:"\u56fe\u7247",dataIndex:"images",key:"images"},{title:"\u8bf4\u660e",dataIndex:"introduction",key:"introduction"}],P=this.props.productRecords.map(function(e,t){return{key:t,auditname:e.cadminId.name,status:x[e.status],audittime:e.ct?I()(parseInt(e.ct,10)).format("YYYY-MM-DD H:mm:ss"):"----",remark:e.remark}}),A=g.map(function(e,t){return{key:t,order:2,time:"time",address:"\u5730\u5740",images:"dd",introduction:"\u8bf4\u660e"}}),T=O.map(function(e,t){return{key:t,order:3,time:"time",address:"\u5730\u5740",images:"dd",introduction:"\u8bf4\u660e"}}),S=2===this.state.auditValue?u.createElement(M,{style:{marginBottom:10},placeholder:"\u9a73\u56de\u7406\u7531",rows:3,value:this.state.auditcontent,onChange:function(t){e.setState({auditcontent:t.target.value})}}):"";return u.createElement(p.a,{width:720,visible:this.props.visible,className:"PetAuditMsgModal",onCancel:this.props.cancelModal,onOk:this.submit,footer:[u.createElement("div",{key:"audit",style:{textAlign:"left",margin:"10px 0"}},u.createElement(b.a.Group,{value:this.state.auditValue,buttonStyle:"solid",onChange:this.onChange.bind(this)},u.createElement(b.a.Button,{value:0},"\u5f85\u5ba1\u6838"),u.createElement(b.a.Button,{value:1},"\u5ba1\u6838\u901a\u8fc7"),u.createElement(b.a.Button,{value:2},"\u5ba1\u6838\u9a73\u56de"))),S,u.createElement(E.a,{key:"back",onClick:this.props.cancelModal},"\u53d6\u6d88"),u.createElement(E.a,{key:"submit",type:"primary",onClick:this.submit},"\u786e\u5b9a")]},u.createElement(y.a,{defaultActiveKey:"1",size:"large"},u.createElement(k,{tab:"\u5ba0\u7269\u8be6\u60c5",key:"1"},u.createElement("div",{className:"PetAuditMsgModalContent"},u.createElement("p",null,u.createElement("span",null,"\u5ba0\u7269\u540d\u79f0\uff1a"),u.createElement("span",null,a)),u.createElement("p",null,u.createElement("span",null,"\u5ba0\u7269\u6807\u9898\uff1a"),u.createElement("span",null,n)),u.createElement("p",null,u.createElement("span",null,"\u5ba0\u7269\u7c7b\u522b\uff1a"),u.createElement("span",null,r)),u.createElement("p",null,u.createElement("span",null,"\u5ba0\u7269\u6027\u522b\uff1a"),u.createElement("span",null,o?"\u516c":"\u6bcd")),u.createElement("p",null,u.createElement("span",null,"\u5ba0\u7269\u751f\u65e5\uff1a"),u.createElement("span",null,i)),u.createElement("p",null,u.createElement("span",null,"\u5ba0\u7269\u4ef7\u683c\uff1a"),u.createElement("span",null,l)),u.createElement("p",null,u.createElement("span",null,"\u5ba0\u7269\u53d1\u5e03\u533a\u57df\uff1a"),u.createElement("span",null,c)),u.createElement("p",null,u.createElement("span",null,"\u8054\u7cfb\u4eba\uff1a"),u.createElement("span",null,"".concat(s,"  ").concat(d))),u.createElement("p",null,u.createElement("span",null,"\u8857\u9053\u5730\u5740\uff1a"),u.createElement("span",null,m)),u.createElement("div",null,u.createElement("span",null,"\u5ba0\u7269\u7167\u7247"),u.createElement("div",{className:"imgWrap"},w)))),u.createElement(k,{tab:"\u75ab\u82d7\u4fe1\u606f",key:"2"},u.createElement(j,{level:4},"\u75ab\u82d7\u4fe1\u606f"),u.createElement("div",{className:"PetAuditMsgModalContent"},u.createElement(f.a,{columns:C,dataSource:A,pagination:{pageSize:5},locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}}))),u.createElement(k,{tab:"\u9a71\u866b\u4fe1\u606f",key:"3"},u.createElement("div",{className:"PetAuditMsgModalContent"},u.createElement(f.a,{columns:C,dataSource:T,pagination:{pageSize:5},locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}}))),u.createElement(k,{tab:"\u5ba1\u6838\u8bb0\u5f55",key:"5"},u.createElement(f.a,{columns:[{title:"\u5ba1\u6838\u4eba\u5458",dataIndex:"auditname",key:"auditname"},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"status",key:"status"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"audittime",key:"audittime"},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark"}],dataSource:P,pagination:{pageSize:5},locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}}))))}}]),t}(u.Component),C=n(337),P=n(351),A=n(348);n.d(t,"default",function(){return S});var T=s.a.Paragraph,S=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={selectedRowKeys:[],loading:!1,filteredInfo:null,sortedInfo:{order:""},tableData:[],petAuthId:0,audit:0,productData:{id:"",name:"",title:"title",petKind:"",sex:0,color:"",birthday:"",price:"",imgUrlPapers:"",content:"",contact:"",phone:"",publishArea:"",streetArea:"",imgMsgs:[],vacMsgs:[],repMsgs:[]},productRecords:[],modalPetDetailShow:!1,total:0},n.getAuditList=function(e,t,a){var r=Object(l.a)(n);Object(C.l)(e,t,a).then(function(e){if(e&&e.data&&e.data.length>0){var t=e.data.map(function(e,t){return{key:e.id,name:e.userId?e.userId.nickname:"----",publisher:e.userId?e.userId.username:"----",petKind:e.typeId?e.typeId.name:"----",price:e.price?e.price:"----",title:e.title?e.title:"----",content:e.content?e.content:"----",status:e.status,creatTime:e.ct?e.ct:"----",modifiedTime:e.mt?e.mt:"----",operation:e.id}});r.setState({tableData:t,resTableData:e.data,total:e.total})}else r.setState({tableData:[],resTableData:[],total:0})})},n.onSelectChange=function(e){console.log("selectedRowKeys changed: ",e),n.setState({selectedRowKeys:e})},n.handleChange=function(e,t,a){n.props.history.push("/home/petAudit/".concat(e.current)),console.log(t.status),n.getAuditList(e.current,e.pageSize,t.status&&t.status.length>0?t.status:["0","1","2"]),n.setState({filteredInfo:t,sortedInfo:a})},n.modalPetDetail=function(e,t,a,r){Object(h.a)({method:"get",url:"/detail/pet?id=".concat(t)}).then(function(t){t?n.setState({modalPetDetailShow:!0,petAuthId:e,audit:r,productData:{id:t.id,name:t.name,title:t.title,petKind:a,sex:t.sex?t.sex:0,color:t.color?t.color:"\u672a\u77e5",birthday:t.brithday?t.brithday:"\u672a\u77e5",price:t.price?t.price:"\u9762\u8bae",imgUrlPapers:"",content:t.content?t.content:"\u5185\u5bb9\u8be6\u60c5",contact:t.userId?t.userId.username:"----",phone:t.userId?t.userId.phone:"----",publishArea:t.citycode?t.citycode:"\u6682\u65e0",streetArea:t.addressId?t.addressId:"\u6682\u65e0",imgMsgs:t.imgMsgs?t.imgMsgs:[],vacMsgs:t.vacMsgs?t.vacMsgs:[],repMsgs:t.repMsgs?t.repMsgs:[]},productRecords:t.records}):d.a.error("\u6570\u636e\u51fa\u9519\u4e86")})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.page;this.getAuditList(e,10,["0","1","2"])}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedRowKeys,a=t.petAuthId,r=t.audit,o=t.productRecords,i=this.state,l=i.filteredInfo,c=i.sortedInfo;l=l||{};var s=[{title:"\u7528\u6237\u540d",dataIndex:"name",key:"name"},{title:"\u53d1\u5e03\u4eba",dataIndex:"publisher",key:"publisher"},{title:"\u5ba0\u7269\u79cd\u7c7b",dataIndex:"petKind",key:"petKind"},{title:"\u4ef7\u683c",dataIndex:"price",key:"price"},{title:"\u8ba4\u8bc1\u6807\u9898",dataIndex:"title",key:"title",render:function(e,t){return u.createElement("div",{onClick:function(){p.a.success({title:"\u8ba4\u8bc1\u6807\u9898",content:t.title,okText:"\u786e\u5b9a"})},style:{cursor:"pointer"}},u.createElement(T,{ellipsis:!0,style:{width:100}},t.title))}},{title:"\u8ba4\u8bc1\u5185\u5bb9",dataIndex:"content",key:"content",render:function(e,t){return u.createElement("div",{onClick:function(){p.a.success({title:"\u8ba4\u8bc1\u5185\u5bb9",content:t.content,okText:"\u786e\u5b9a"})},style:{cursor:"pointer"}},u.createElement(T,{ellipsis:!0,style:{width:100}},t.content))}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",filters:[{text:"\u5f85\u5ba1\u6838",value:"0"},{text:"\u5ba1\u6838\u901a\u8fc7",value:"1"},{text:"\u5ba1\u6838\u9a73\u56de",value:"2"}],render:function(e,t){return u.createElement(A.a,{type:t.status})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"creatTime",key:"creatTime",render:function(e,t){return u.createElement("span",null,I()(parseInt(t.creatTime,10)).format("YYYY-MM-DD H:mm:ss"))},sorter:function(e,t){return parseInt(e.creatTime,10)-parseInt(t.creatTime,10)},sortOrder:(c=c||{}).order},{title:"\u6700\u540e\u4fee\u6539\u65f6\u95f4",dataIndex:"modifiedTime",key:"modifiedTime",render:function(e,t){return u.createElement("span",null,I()(parseInt(t.modifiedTime,10)).format("YYYY-MM-DD H:mm:ss"))}},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",render:function(t,n){return u.createElement(P.a,{style:{textAlign:"center",cursor:"pointer"},color:"#2db7f5",onClick:function(){return e.modalPetDetail(n.key,n.operation,n.petKind,n.status)}},"\u5ba1\u6838")}}],d={selectedRowKeys:n,onChange:this.onSelectChange},h=this.state,y=h.tableData,g=h.modalPetDetailShow,v=h.productData,b=h.total,E=this.props.match.params.page;return u.createElement("div",null,u.createElement(m.a,{style:{textAlign:"left",marginBottom:25}},u.createElement(m.a.Item,null,"\u5ba1\u6838"),u.createElement(m.a.Item,null,u.createElement("a",{href:""},"\u5ba0\u7269\u5ba1\u6838"))),u.createElement(f.a,{rowSelection:d,columns:s,dataSource:y,pagination:{pageSize:10,total:b,defaultCurrent:parseInt(E,10)},onChange:this.handleChange,locale:{filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:"\u6682\u65e0\u6570\u636e"}}),u.createElement(w,{petAuthId:a,audit:r,productRecords:o,data:v,cancelModal:function(){return e.setState({modalPetDetailShow:!1})},visible:g}))}}]),t}(u.Component)}}]);
//# sourceMappingURL=24.19991bfe.chunk.js.map