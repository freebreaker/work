{"version":3,"sources":["pages/api/index.ts","pages/businessRound/index.tsx"],"names":["apiGetPetAuditList","_ref","Object","E_pet_admin_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","E_pet_admin_web_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","page","size","status","wrap","_context","prev","next","axios","method","url","data","abrupt","sent","stop","_x","_x2","_x3","apply","this","arguments","apiGetProductList","apiGetServiceAuditList","apiGetUserAuditList","apiGetCompanyAuditList","apiGetUserList","apiGetUser","keyword","apiGetBusinessRound","apiPublishBusinessArea","BusinessArea","BusinessRound","area","length","round","apiDeleteBusinessRound","id","apiGetPictureList","current","limit","concat","apiGetAdvertisementList","apiPostAdvertisement","type","relateType","relateId","title","content","image","cityCode","apiEditAdvertisement","apiDeleteAdvertisement","ids","apiGetPersonalRoundList","apiGetInformList","relatedType","apiGetRecommendList","apiAddRecommend","name","startTime","endTime","userId","deviceType","deviceName","deviceId","apiDeleteRecommend","apiEditRecommend","apiGetRecommendRelateTypeList","BreadTitle","react__WEBPACK_IMPORTED_MODULE_1__","antd__WEBPACK_IMPORTED_MODULE_2__","style","textAlign","marginBottom","Item","href","Form","create","props","_useState","useState","E_pet_admin_web_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","_useState3","_useState4","setRound","_useState5","cityName","_useState6","rounds","setRounds","useEffect","then","res","fieldsError","roundsWrap","map","item","index","antd__WEBPACK_IMPORTED_MODULE_4__","closable","onClose","key","border","antd__WEBPACK_IMPORTED_MODULE_5__","Button","value","tradingAreaName","antd__WEBPACK_IMPORTED_MODULE_6__","assign","labelCol","span","wrapperCol","onSubmit","e","preventDefault","form","validateFieldsAndScroll","err","values","businessArea","console","log","message","success","setTimeout","window","location","reload","error","label","hasFeedback","getFieldDecorator","initialValue","setFieldsValue","rules","required","antd__WEBPACK_IMPORTED_MODULE_7__","options","children","placeholder","antd__WEBPACK_IMPORTED_MODULE_8__","onChange","target","Group","buttonStyle","antd__WEBPACK_IMPORTED_MODULE_9__","block","htmlType","className","marginLeft","disabled","getFieldsError","keys","some","field"],"mappings":"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","file":"static/js/32.ad47ad15.chunk.js","sourcesContent":["import axios from \"../../util/Axios\";\r\n/**\r\n * \r\n * @param page 默认page=1\r\n * @description 获取宠物审核列表\r\n */\r\nexport const apiGetPetAuditList = async (page: number, size: number, status: string[]) => {\r\n    return await axios({\r\n        method: \"post\",\r\n        url: `/audit/petList`,\r\n        data: {\r\n            \"page\": page,\r\n            \"size\": size,\r\n            \"status\": status\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * \r\n * @param page 默认page=1\r\n * @param size 默认size=10\r\n * @param status string[] 0待审核 1审核通过 2审核驳回\r\n * @description 获取商品审核列表\r\n */\r\nexport const apiGetProductList = (page: number, size: number, status: string[]) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/audit/productList`,\r\n        data: {\r\n            \"page\": page,\r\n            \"size\": size,\r\n            \"status\": status\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * \r\n * @param page 默认page=1\r\n * @param size 默认size=10\r\n * @param status string[] 0待审核 1审核通过 2审核驳回\r\n * @description 获取服务审核列表\r\n */\r\nexport const apiGetServiceAuditList = (page: number, size: number, status: string[]) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/audit/serviceList`,\r\n        data: {\r\n            \"page\": page,\r\n            \"size\": size,\r\n            \"status\": status\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * \r\n * @param page 默认page=1\r\n * @param size 默认size=10\r\n * @param status string[] 0待审核 1审核通过 2审核驳回\r\n * @description 获取用户审核列表\r\n */\r\nexport const apiGetUserAuditList = (page: number, size: number, status: string[]) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/audit/userList`,\r\n        data: {\r\n            \"page\": page,\r\n            \"size\": size,\r\n            \"status\": status\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * \r\n * @param page 默认page=1\r\n * @param size 默认size=10\r\n * @param status string[] 0待审核 1审核通过 2审核驳回\r\n * @description 获取企业审核列表\r\n */\r\nexport const apiGetCompanyAuditList = (page: number, size: number, status: string[]) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/audit/companyList`,\r\n        data: {\r\n            \"page\": page,\r\n            \"size\": size,\r\n            \"status\": status\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * \r\n * @param page 默认page=1\r\n * @param size 默认size=10\r\n * @param status string[] 0待审核 1审核通过 2审核驳回\r\n * @description 获取用户列表\r\n */\r\nexport const apiGetUserList = (page: number, size: number) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/user/list`,\r\n        data: {\r\n            \"page\": page,\r\n            \"size\": size,\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * \r\n * @param keyword 用户名或昵称\r\n */\r\nexport const apiGetUser = (keyword:string)=>{\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/user/search`,\r\n        data: {\r\n            \"keyword\": keyword,\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 获取商圈列表\r\n */\r\nexport const apiGetBusinessRound = () => {\r\n    return axios({\r\n        method: \"get\",\r\n        url: `/round/list`\r\n    })\r\n}\r\n/**\r\n * 发布商圈\r\n * @param BusinessArea 商圈地区  目前只有扬州\r\n * @param BusinessRound 商圈名\r\n */\r\nexport const apiPublishBusinessArea = (BusinessArea: string[], BusinessRound: string) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/round/add`,\r\n        data: {\r\n            area: BusinessArea[BusinessArea.length - 1],\r\n            round: BusinessRound\r\n        }\r\n    })\r\n}\r\n/**\r\n * \r\n * @param id 商圈id\r\n */\r\nexport const apiDeleteBusinessRound = (id: number) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/round/delete`,\r\n        data: {\r\n            \"id\": id\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 图片总管理\r\n * @param BusinessArea 商圈地区  目前只有扬州\r\n * @param BusinessRound 商圈名\r\n */\r\nexport const apiGetPictureList = (current: number, limit: number) => {\r\n    return axios({\r\n        method: \"get\",\r\n        url: `/picture/list?current=${current}&limit=${limit}`,\r\n    })\r\n}\r\n\r\n/**\r\n * 广告列表\r\n * @param page 页码\r\n * @param size 每页个数\r\n */\r\nexport const apiGetAdvertisementList = (page: number, size: number) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/advertisement/list`,\r\n        data: {\r\n            \"page\": page,\r\n            \"size\": size,\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 添加广告\r\n * @param page 页码\r\n * @param size 每页个数\r\n */\r\nexport const apiPostAdvertisement = (\r\n    type: number,\r\n    relateType: number,\r\n    relateId: string,\r\n    url: string,\r\n    title: string,\r\n    content: string,\r\n    image: string,\r\n    cityCode: string\r\n) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/advertisement/add`,\r\n        data: {\r\n            \"type\": type,\r\n            \"relateType\": relateType,\r\n            \"relateId\": relateId,\r\n            \"url\": url,\r\n            \"title\": title,\r\n            \"content\": content,\r\n            \"image\": image,\r\n            \"cityCode\": cityCode\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 添加广告\r\n * @param page 页码\r\n * @param size 每页个数\r\n */\r\nexport const apiEditAdvertisement = (\r\n    id: number,\r\n    type: number,\r\n    relateType: number,\r\n    relateId: string,\r\n    url: string,\r\n    title: string,\r\n    content: string,\r\n    image: string,\r\n    cityCode: string\r\n) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/advertisement/edit`,\r\n        data: {\r\n            \"id\": id,\r\n            \"type\": type,\r\n            \"relateType\": relateType,\r\n            \"relateId\": relateId,\r\n            \"url\": url,\r\n            \"title\": title,\r\n            \"content\": content,\r\n            \"image\": image,\r\n            \"cityCode\": cityCode\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 删除广告\r\n * @param ids id集合 \r\n */\r\nexport const apiDeleteAdvertisement = (ids: string[]) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/advertisement/delete`,\r\n        data: {\r\n            \"ids\": ids\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * \r\n * @param type 0动态 1活动\r\n */\r\nexport const apiGetPersonalRoundList = (type: number, page: number, size: number) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/personalRound/list`,\r\n        data: {\r\n            \"type\": type,\r\n            \"page\": page,\r\n            \"size\": size\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * \r\n * @param type 举报原因 0：不友善内容；1：违法违规；2：其他\r\n * @param relatedType 1：chongdu_comment；2：chongdu_comment_reply；3：chongdu_world_comments；4：chongdu_world_reply；5：chongdu_world\r\n */\r\nexport const apiGetInformList = (type: number[], page: number, size: number, relatedType?: number[]) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/inform/list`,\r\n        data: {\r\n            \"type\": type,\r\n            \"page\": page,\r\n            \"size\": size,\r\n            \"relatedType\": relatedType\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * \r\n * @param page 获取推荐列表page\r\n * @param size \r\n */\r\nexport const apiGetRecommendList = (page: number, size: number) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/recommend/list`,\r\n        data: {\r\n            \"page\": page,\r\n            \"size\": size\r\n        }\r\n    })\r\n}\r\n\r\nexport const apiAddRecommend = (\r\n    type: number, relateType: number, relateId: string,\r\n    name: string, startTime: string, endTime: string, cityCode: string, userId: string, deviceType?: number,\r\n    deviceName?: string, deviceId?: string) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/recommend/add`,\r\n        data: {\r\n            \"type\": type,\r\n            \"relateType\": relateType,\r\n            \"relateId\": relateId,\r\n            \"name\": name,\r\n            \"startTime\": startTime,\r\n            \"endTime\": endTime,\r\n            \"cityCode\": cityCode,\r\n            \"deviceType\": 3,\r\n            \"deviceName\": \"pc\",\r\n            \"deviceId\": \"pc\",\r\n            \"userId\": userId,\r\n        }\r\n    })\r\n}\r\n\r\nexport const apiDeleteRecommend = (ids:string[])=>{\r\n    return axios({\r\n        method:\"post\",\r\n        url:`/recommend/delete`,\r\n        data:{\r\n            \"ids\":ids\r\n        }\r\n    })\r\n}\r\n\r\nexport const apiEditRecommend = (\r\n    id:number,\r\n    type: number, relateType: number, relateId: string,\r\n    name: string, startTime: string, endTime: string, cityCode: string, userId: string, deviceType?: number,\r\n    deviceName?: string, deviceId?: string) => {\r\n    return axios({\r\n        method: \"post\",\r\n        url: `/recommend/edit`,\r\n        data: {\r\n            \"id\":id,\r\n            \"type\": type,\r\n            \"relateType\": relateType,\r\n            \"relateId\": relateId,\r\n            \"name\": name,\r\n            \"startTime\": startTime,\r\n            \"endTime\": endTime,\r\n            \"cityCode\": cityCode,\r\n            \"deviceType\": 3,\r\n            \"deviceName\": \"pc\",\r\n            \"deviceId\": \"pc\",\r\n            \"userId\": userId,\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const apiGetRecommendRelateTypeList = (type:number ,userId:string)=>{\r\n    return axios({\r\n        method:\"post\",\r\n        url:\"/recommend/relateTypeList\",\r\n        data:{\r\n            \"type\":type,\r\n            \"userId\":userId\r\n        }\r\n    })\r\n}","import * as React from 'react';\r\nimport { useEffect, useState } from 'react'\r\nimport {\r\n    Breadcrumb, Form, Input, Cascader, Button, message, Radio, Tag\r\n} from 'antd';\r\nimport { apiPublishBusinessArea, apiGetBusinessRound, apiDeleteBusinessRound } from '../api';\r\n\r\n\r\ninterface IBusinessRoundProps {\r\n    title?: string,\r\n    form: {\r\n        getFieldDecorator: any\r\n        getFieldsError: any\r\n        validateFieldsAndScroll: any\r\n    }\r\n}\r\n\r\nconst BreadTitle = (\r\n    <Breadcrumb style={{ textAlign: \"left\", marginBottom: 25 }}>\r\n        <Breadcrumb.Item>商圈管理</Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n            <a href=\"\">发布商圈</a>\r\n        </Breadcrumb.Item>\r\n    </Breadcrumb>\r\n)\r\n\r\nfunction hasErrors(fieldsError: any) {\r\n    return Object.keys(fieldsError).some(field => fieldsError[field]);\r\n}\r\n\r\nconst BusinessRoundWrap = (props: IBusinessRoundProps) => {\r\n    const [area,] = useState(\"321001\");\r\n    const [round, setRound] = useState(\"\")\r\n    const [rounds, setRounds] = useState([{\r\n        cityCode: \"\",\r\n        cityName: \"\"\r\n    }])\r\n    const formItemLayout = {\r\n        labelCol: { span: 2 },\r\n        wrapperCol: { span: 4 },\r\n    };\r\n\r\n    const options = [\r\n        {\r\n            value: '321000',\r\n            label: '扬州',\r\n            children: [\r\n                {\r\n                    value: '321001',\r\n                    label: '全市',\r\n                },\r\n                {\r\n                    value: '321002',\r\n                    label: '广陵区',\r\n                },\r\n                {\r\n                    value: '321003',\r\n                    label: '邗江区',\r\n                },\r\n                {\r\n                    value: '321012',\r\n                    label: '江都区',\r\n                },\r\n                {\r\n                    value: '321023',\r\n                    label: '宝应县',\r\n                },\r\n                {\r\n                    value: '321081',\r\n                    label: '仪征市',\r\n                },\r\n                {\r\n                    value: '321084',\r\n                    label: '高邮市',\r\n                },\r\n            ],\r\n        },\r\n    ]\r\n\r\n    const handleSubmit = (e: any) => {\r\n        e.preventDefault();\r\n        props.form.validateFieldsAndScroll((err: any, values: { businessArea: string[] }) => {\r\n            const { businessArea } = values\r\n            if (!err) {\r\n                console.log('Received values of form: ', values);\r\n                apiPublishBusinessArea(businessArea, round).then((res: any) => {\r\n                    if (res) {\r\n                        message.success(\"发布成功\")\r\n                        setTimeout(() => {\r\n                            window.location.reload()\r\n                        }, 500);\r\n                    } else {\r\n                        message.error(\"发布失败\")\r\n                    }\r\n                })\r\n            }\r\n        });\r\n    };\r\n\r\n    const deleteBusiness = (id:number)=>{\r\n        apiDeleteBusinessRound(id).then((res:any)=>{\r\n            if(res){\r\n                setRounds(res)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        apiGetBusinessRound().then((res: any) => {\r\n            if (res) {\r\n                setRounds(res)\r\n            }\r\n        })\r\n    }, []);\r\n\r\n    const roundsWrap = rounds.map((item: any, index: number) => {\r\n        return (\r\n            // <Radio.Button key={index} value={item.tradingAreaName}>{item.tradingAreaName}</Radio.Button>\r\n            <Tag closable={true} onClose={() => deleteBusiness(item.id)} key={index} style={{border:\"none\"}}>\r\n                <Radio.Button key={index} value={item.tradingAreaName}>{item.tradingAreaName}</Radio.Button>\r\n            </Tag>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            {BreadTitle}\r\n            <Form {...formItemLayout} onSubmit={handleSubmit}>\r\n                <Form.Item label=\"地区\" hasFeedback={true}>\r\n                    {props.form.getFieldDecorator('businessArea', {\r\n                        initialValue: [\"321000\", area],\r\n                        setFieldsValue: area,\r\n                        rules: [{ required: true, message: '请输入商圈!' }],\r\n                    })(\r\n                        <Cascader\r\n                            style={{ textAlign: \"left\" }}\r\n                            options={options}\r\n                            placeholder=\"请选择地区\" />\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"商圈\" hasFeedback={true}>\r\n                    <Input required={true} placeholder=\"商圈\" value={round} onChange={(e: any) => setRound(e.target.value)} />\r\n                </Form.Item>\r\n                <Form.Item label=\"已有商圈\"\r\n                    style={{\r\n                        textAlign: \"left\"\r\n                    }}\r\n                    wrapperCol={{\r\n                        span: 12\r\n                    }}>\r\n                    <Radio.Group value={round} buttonStyle=\"solid\" onChange={(e: any) => setRound(e.target.value)}>\r\n                        {\r\n                            roundsWrap\r\n                        }\r\n                    </Radio.Group>\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button type=\"primary\" block={true} htmlType=\"submit\"\r\n                        className=\"login-form-button\" style={{ marginLeft: \"50%\" }}\r\n                        disabled={hasErrors(props.form.getFieldsError())}>\r\n                        确认\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst BusinessRound = Form.create({ name: 'validate_other' })(BusinessRoundWrap);\r\n\r\nexport default BusinessRound"],"sourceRoot":""}